!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.appgrid=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t,e){var n=e||0,r=jt;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function r(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var i=void 0!==t.clockseq?t.clockseq:St,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:Pt+1,c=a-It+(u-Pt)/1e4;if(c<0&&void 0===t.clockseq&&(i=i+1&16383),(c<0||a>It)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");It=a,Pt=u,St=i,a+=122192928e5;var s=(1e4*(268435455&a)+u)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var l=t.node||xt,p=0;p<6;++p)o[r+p]=l[p];return e?e:Ot(o)}function o(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||mt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||Ot(o)}function i(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return Tt(t)?t:Object(t)}function c(t){return function(e,n,r){for(var o=Ht(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return e}}function s(t){return Tt(t)&&_t.call(t)==Nt}function f(t){return!!t&&"object"==typeof t}function l(t){return null!=t&&(kt(t)?Vt.test(Gt.call(t)):Bt(t)&&$t.test(t))}function p(t,e){var n=null==t?void 0:t[e];return Xt(n)?n:void 0}function d(t){return function(e){return null==e?void 0:e[t]}}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Zt}function v(t){return null!=t&&te(Yt(t))}function h(t){return Bt(t)&&ee(t)&&re.call(t,"callee")&&!oe.call(t,"callee")}function g(t,e){return t="number"==typeof t||pe.test(t)?+t:-1,e=null==e?de:e,t>-1&&t%1==0&&t<e}function b(t){if(null==t)return[];Tt(t)||(t=Object(t));var e=t.length;e=e&&te(e)&&(le(t)||ie(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=Array(e),a=e>0;++r<e;)i[r]=r+"";for(var u in t)a&&ye(u,e)||"constructor"==u&&(o||!he.call(t,u))||i.push(u);return i}function m(t){for(var e=ge(t),n=e.length,r=n&&t.length,o=!!r&&te(r)&&(le(t)||ie(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&ye(u,r)||me.call(t,u))&&a.push(u)}return a}function j(t,e){return Rt(t,e,we)}function A(t,e){return function(n,r){var o=n?Yt(n):0;if(!te(o))return t(n,r);for(var i=e?o:-1,a=Ht(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function O(t){return t}function w(t,e,n){if("function"!=typeof t)return Ke;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function x(t,e){return function(n,r,o){return"function"==typeof r&&void 0===o&&le(n)?t(n,r):e(n,Ce(r,o,3))}}function S(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return Te(t)?t:Object(t)}function P(t){return function(e,n,r){for(var o=He(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return e}}function K(t){return Te(t)&&_e.call(t)==Ne}function C(t){return!!t&&"object"==typeof t}function D(t){return null!=t&&(ke(t)?Ve.test(Ge.call(t)):Be(t)&&$e.test(t))}function E(t,e){var n=null==t?void 0:t[e];return Xe(n)?n:void 0}function U(t){return function(e){return null==e?void 0:e[t]}}function T(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ze}function H(t){return null!=t&&tn(Ye(t))}function F(t){return Be(t)&&en(t)&&rn.call(t,"callee")&&!on.call(t,"callee")}function L(t,e){return t="number"==typeof t||dn.test(t)?+t:-1,e=null==e?yn:e,t>-1&&t%1==0&&t<e}function R(t){if(null==t)return[];Te(t)||(t=Object(t));var e=t.length;e=e&&tn(e)&&(pn(t)||an(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=Array(e),a=e>0;++r<e;)i[r]=r+"";for(var u in t)a&&vn(u,e)||"constructor"==u&&(o||!gn.call(t,u))||i.push(u);return i}function N(t){for(var e=bn(t),n=e.length,r=n&&t.length,o=!!r&&tn(r)&&(pn(t)||an(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&vn(u,r)||jn.call(t,u))&&a.push(u)}return a}function M(t,e){return Re(t,e,xn)}function _(t){return t}function k(t,e,n){if("function"!=typeof t)return In;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function B(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=Pn(n,r,3)),t(e,n)}}function $(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=Pn(n,r,3)),t(e,n,bn)}}function q(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function G(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function z(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}function V(t,e){return null==e?t:Ln(e,xn(e),t)}function X(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Mn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function J(t){var e=new kn(t.byteLength),n=new Bn(e);return n.set(new Bn(t)),e}function W(t,e,n){var r=t.constructor;switch(e){case Jn:return $n(t);case qn:case Gn:return new r(+t);case Wn:case Qn:case Yn:case Zn:case tr:case er:case nr:case rr:case or:var o=t.buffer;return new r(n?$n(o):o,t.byteOffset,t.length);case zn:case Xn:return new r(t);case Vn:var i=new r(t.source,ir.exec(t));i.lastIndex=t.lastIndex}return i}function Q(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function Y(t,e,n,r,o,i,a){var u;if(n&&(u=o?n(t,r,o):n(t)),void 0!==u)return u;if(!Te(t))return t;var c=pn(t);if(c){if(u=_n(t),!e)return Hn(t,u)}else{var s=Tr.call(t),f=s==dr;if(s!=hr&&s!=cr&&(!f||o))return Er[s]?ar(t,s,e):o?t:{};if(u=ur(f?{}:t),!e)return Rn(u,t)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==t)return a[l];return i.push(t),a.push(u),(c?Fn:Sn)(t,function(r,o){u[o]=Y(r,e,n,o,t,i,a)}),u}function Z(t,e,n){return"function"==typeof e?Hr(t,!0,Pn(e,n,3)):Hr(t,!0)}function tt(t){return void 0===t}function et(t,e){void 0===e&&(e={});var n=e.id,r=e.typeId,o=e.alias,i=e.typeAlias,a=e.preview,u=e.at,c=e.offset,s=e.size,f=e.locale,l={};n&&Array.isArray(n)&&(l.id=n.join(",")),o&&Array.isArray(o)&&(l.alias=o.join(",")),r&&Array.isArray(r)&&(l.typeId=r.join(",")),a&&(l.preview=!0),"string"==typeof u?l.at=u:u&&u.toISOString&&(l.at=u.toISOString());var p=no.stringify(Object.assign({},l,{typeAlias:i,offset:c,size:s,locale:f}));return t+"?"+p}function nt(t,e){var n=this,r=et(t,e);return this.withSessionHandling(function(){return mo(r,n.props.config)})}function rt(t,e){var n=this,r={eventType:t};return void 0!==e&&(r.retentionTime=e),this.withSessionHandling(function(){return Ao("/event/log",n.props.config,r)})}function ot(t){var e=this;return this.withSessionHandling(function(){return mo(t,e.props.config)})}function it(t,e){var n=this;return this.withSessionHandling(function(){return Ao("/application/log/"+t,n.props.config,e)})}function at(t){var e=this;return this.withSessionHandling(function(){return Ao("/application/logs",e.props.config,t)})}function ut(t){var e=this;return this.withSessionHandling(function(){return mo(t,e.props.config)})}function ct(t){var e=this;return this.withSessionHandling(function(){return mo(t,e.props.config)})}function st(t,e){var n=this;return this.withSessionHandling(function(){return Ao(t,n.props.config,e)})}function ft(t,e){return ct.call(this,"/"+t+"/"+e)}function lt(t,e,n){return ct.call(this,"/"+t+"/"+e+"/"+n+"?json=true")}function pt(t,e,n){return st.call(this,"/"+t+"/"+e,n)}function dt(t,e,n,r){return st.call(this,"/"+t+"/"+e+"/"+n,r)}var yt,vt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ht=vt.crypto||vt.msCrypto;if(ht&&ht.getRandomValues){var gt=new Uint8Array(16);yt=function(){return ht.getRandomValues(gt),gt}}if(!yt){var bt=new Array(16);yt=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),bt[e]=t>>>((3&e)<<3)&255;return bt}}for(var mt=yt,jt=[],At=0;At<256;++At)jt[At]=(At+256).toString(16).substr(1);var Ot=n,wt=mt(),xt=[1|wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]],St=16383&(wt[6]<<8|wt[7]),It=0,Pt=0,Kt=r,Ct=o,Dt=Ct;Dt.v1=Kt,Dt.v4=Ct;var Et=Dt,Ut=i,Tt=a,Ht=u,Ft=c,Lt=Ft(),Rt=Lt,Nt="[object Function]",Mt=Object.prototype,_t=Mt.toString,kt=s,Bt=f,$t=/^\[object .+?Constructor\]$/,qt=Object.prototype,Gt=Function.prototype.toString,zt=qt.hasOwnProperty,Vt=RegExp("^"+Gt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=l,Jt=p,Wt=d,Qt=Wt("length"),Yt=Qt,Zt=9007199254740991,te=y,ee=v,ne=Object.prototype,re=ne.hasOwnProperty,oe=ne.propertyIsEnumerable,ie=h,ae="[object Array]",ue=Object.prototype,ce=ue.toString,se=Jt(Array,"isArray"),fe=se||function(t){return Bt(t)&&te(t.length)&&ce.call(t)==ae},le=fe,pe=/^\d+$/,de=9007199254740991,ye=g,ve=Object.prototype,he=ve.hasOwnProperty,ge=b,be=Object.prototype,me=be.hasOwnProperty,je=m,Ae=Jt(Object,"keys"),Oe=Ae?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&ee(t)?je(t):Tt(t)?Ae(t):[]}:je,we=Oe,xe=j,Se=A,Ie=Se(xe),Pe=Ie,Ke=O,Ce=w,De=x,Ee=De(Ut,Pe),Ue=Ee,Te=S,He=I,Fe=P,Le=Fe(),Re=Le,Ne="[object Function]",Me=Object.prototype,_e=Me.toString,ke=K,Be=C,$e=/^\[object .+?Constructor\]$/,qe=Object.prototype,Ge=Function.prototype.toString,ze=qe.hasOwnProperty,Ve=RegExp("^"+Ge.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=D,Je=E,We=U,Qe=We("length"),Ye=Qe,Ze=9007199254740991,tn=T,en=H,nn=Object.prototype,rn=nn.hasOwnProperty,on=nn.propertyIsEnumerable,an=F,un="[object Array]",cn=Object.prototype,sn=cn.toString,fn=Je(Array,"isArray"),ln=fn||function(t){return Be(t)&&tn(t.length)&&sn.call(t)==un},pn=ln,dn=/^\d+$/,yn=9007199254740991,vn=L,hn=Object.prototype,gn=hn.hasOwnProperty,bn=R,mn=Object.prototype,jn=mn.hasOwnProperty,An=N,On=Je(Object,"keys"),wn=On?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&en(t)?An(t):Te(t)?On(t):[]}:An,xn=wn,Sn=M,In=_,Pn=k,Kn=B,Cn=Kn(Sn),Dn=Cn,En=$,Un=En(Re),Tn=Un,Hn=q,Fn=G,Ln=z,Rn=V,Nn=Object.prototype,Mn=Nn.hasOwnProperty,_n=X,kn=vt.ArrayBuffer,Bn=vt.Uint8Array,$n=J,qn="[object Boolean]",Gn="[object Date]",zn="[object Number]",Vn="[object RegExp]",Xn="[object String]",Jn="[object ArrayBuffer]",Wn="[object Float32Array]",Qn="[object Float64Array]",Yn="[object Int8Array]",Zn="[object Int16Array]",tr="[object Int32Array]",er="[object Uint8Array]",nr="[object Uint8ClampedArray]",rr="[object Uint16Array]",or="[object Uint32Array]",ir=/\w*$/,ar=W,ur=Q,cr="[object Arguments]",sr="[object Array]",fr="[object Boolean]",lr="[object Date]",pr="[object Error]",dr="[object Function]",yr="[object Map]",vr="[object Number]",hr="[object Object]",gr="[object RegExp]",br="[object Set]",mr="[object String]",jr="[object WeakMap]",Ar="[object ArrayBuffer]",Or="[object Float32Array]",wr="[object Float64Array]",xr="[object Int8Array]",Sr="[object Int16Array]",Ir="[object Int32Array]",Pr="[object Uint8Array]",Kr="[object Uint8ClampedArray]",Cr="[object Uint16Array]",Dr="[object Uint32Array]",Er={};Er[cr]=Er[sr]=Er[Ar]=Er[fr]=Er[lr]=Er[Or]=Er[wr]=Er[xr]=Er[Sr]=Er[Ir]=Er[vr]=Er[hr]=Er[gr]=Er[mr]=Er[Pr]=Er[Kr]=Er[Cr]=Er[Dr]=!0,Er[pr]=Er[dr]=Er[yr]=Er[br]=Er[jr]=!1;var Ur=Object.prototype,Tr=Ur.toString,Hr=Y,Fr=Z,Lr=tt,Rr=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.deep&&!t._innerMixer&&(t._innerMixer=!0,t._innerMixer=r(t)),function(e){function n(n,r){var o=e[r];if(!t.filter||t.filter(n,o,r)){var i=t.deep?t._innerMixer(o,n):n;e[r]=t.transform?t.transform(i,o,r):i}}for(var r=arguments,s=arguments.length,f=Array(s>1?s-1:0),l=1;l<s;l++)f[l-1]=r[l];if((0,c.default)(e)||!t.noOverwrite&&!(0,u.default)(e))return f.length>1?t._innerMixer.apply(t,[{}].concat(f)):(0,a.default)(f[0]);if(t.noOverwrite&&(!(0,u.default)(e)||!(0,u.default)(f[0])))return e;var p=t.chain?i.default:o.default;return f.forEach(function(t){p(t,n)}),e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(Dn),i=n(Tn),a=n(Fr),u=n(Te),c=n(Lr);t.exports=e.default}),Nr=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(Rr),o=function(t){return"function"==typeof t},i=function(t){return!o(t)},a=(0,r.default)(),u=(0,r.default)({filter:o}),c=(0,r.default)({filter:o,chain:!0}),s=(0,r.default)({deep:!0}),f=(0,r.default)({deep:!0,noOverwrite:!0}),l=(0,r.default)({filter:i,deep:!0,chain:!0});e.default=r.default,e.mixin=a,e.mixinFunctions=u,e.mixinChainFunctions=c,e.merge=s,e.mergeUnique=f,e.mergeChainNonFunctions=l}),Mr=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t&&(0,g.default)(t.then)}function o(){for(var t=arguments,e=[],n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=t[o];return(0,g.default)(r[0])?(0,h.default)(r,function(t){(0,g.default)(t)&&e.push(t)}):(0,b.default)(r[0])&&(0,h.default)(r,function(t){(0,h.default)(t,function(t){(0,g.default)(t)&&e.push(t)})}),e}function i(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return Nr.mixinFunctions.apply(void 0,[t.methods].concat(r))}function a(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return t.refs=t.state=Nr.mixin.apply(void 0,[t.refs].concat(r)),t.refs}function u(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=e[i];var a=o.apply(void 0,r);return t.init=t.enclose=t.init.concat(a),t.init}function c(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return Nr.merge.apply(void 0,[t.props].concat(r))}function s(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return Nr.mixin.apply(void 0,[t.static].concat(r))}function f(t,e){for(var n=arguments,r=j(t),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=n[a];return e.apply(void 0,[r.fixed].concat(i)),r}function l(){for(var t=arguments,e=j(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=t[o];return(0,h.default)(r,function(t){t&&t.fixed&&(i(e.fixed,t.fixed.methods),a(e.fixed,t.fixed.refs||t.fixed.state),u(e.fixed,t.fixed.init||t.fixed.enclose),c(e.fixed,t.fixed.props),s(e.fixed,t.fixed.static))}),(0,Nr.mixin)(e,e.fixed.static)}function p(t){return(0,g.default)(t)&&(0,g.default)(t.methods)&&((0,g.default)(t.refs)||(0,g.default)(t.state))&&((0,g.default)(t.init)||(0,g.default)(t.enclose))&&(0,g.default)(t.props)&&(0,g.default)(t.static)&&(0,b.default)(t.fixed)}function d(t){var e=j();return e.fixed.refs=e.fixed.state=(0,Nr.mergeChainNonFunctions)(e.fixed.refs,t.prototype),(0,Nr.mixin)(e,(0,Nr.mixin)(e.fixed.static,t)),(0,Nr.mixinChainFunctions)(e.fixed.methods,t.prototype),u(e.fixed,function(e){var n=e.instance,r=e.args;return t.apply(n,r)}),e}function y(t){for(var e=arguments,n=j(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=e[i];return t.apply(void 0,[n.fixed].concat(o)),n}function v(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),Nr.mixin.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(Ue),g=n(kt),b=n(Tt),m=Object.create,j=function(t){var e={methods:{},refs:{},init:[],props:{},static:{}};e.state=e.refs,e.enclose=e.init,t&&(i(e,t.methods),a(e,t.refs),u(e,t.init),c(e,t.props),s(e,t.static));var n=function(t){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=o[u];var c=(0,Nr.mixin)(m(e.methods),e.refs,t);(0,Nr.mergeUnique)(c,e.props);var s=null;return e.init.length>0&&(0,h.default)(e.init,function(t){if((0,g.default)(t))if(s)s=s.then(function(e){c=e||c;var o=t.call(c,{args:a,instance:c,stamp:n});return o?r(o)?o:c=o:c});else{var e=t.call(c,{args:a,instance:c,stamp:n});if(!e)return;if(!r(e))return void(c=e);s=e}}),s?s.then(function(t){return t||c}):c},o=f.bind(null,e,a),p=f.bind(null,e,u);return(0,Nr.mixin)(n,{create:n,fixed:e,methods:f.bind(null,e,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,e,c),static:function(){for(var t=arguments,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=t[o];var i=f.apply(void 0,[n.fixed,s].concat(r));return(0,Nr.mixin)(i,i.fixed.static)},compose:function(){for(var t=arguments,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=t[o];return l.apply(void 0,[n].concat(r))}},e.static)};e.default=(0,Nr.mixin)(j,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,u),props:y.bind(null,c),static:function(){for(var t=arguments,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=t[r];var o=y.apply(void 0,[s].concat(n));return(0,Nr.mixin)(o,o.fixed.static)},compose:l,mixin:v,extend:v,mixIn:v,assign:v,isStamp:p,convertConstructor:d}),t.exports=e.default}),_r=t(Mr),kr=e(function(t,e){var n=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)"undefined"!=typeof t[r]&&(n[r]=t[r]);return n},e.merge=function(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,n){var i=r[n];return Object.prototype.hasOwnProperty.call(t,n)?t[n]=e.merge(t[n],i,o):t[n]=i,t},i)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=e.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var r=n||[],o=r.indexOf(t);if(o!==-1)return r[o];if(r.push(t),Array.isArray(t)){for(var i=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?i.push(e.compact(t[a],r)):"undefined"!=typeof t[a]&&i.push(t[a]);return i}var u=Object.keys(t);return u.forEach(function(n){t[n]=e.compact(t[n],r)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),Br=String.prototype.replace,$r=/%20/g,qr={default:"RFC3986",formatters:{RFC1738:function(t){return Br.call(t,$r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Gr={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},zr=Date.prototype.toISOString,Vr={delimiter:"&",encode:!0,encoder:kr.encode,encodeValuesOnly:!1,serializeDate:function(t){return zr.call(t)},skipNulls:!1,strictNullHandling:!1},Xr=function t(e,n,r,o,i,a,u,c,s,f,l,p){var d=e;if("function"==typeof u)d=u(n,d);else if(d instanceof Date)d=f(d);else if(null===d){if(o)return a&&!p?a(n):n;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||kr.isBuffer(d)){if(a){var y=p?n:a(n);return[l(y)+"="+l(a(d))]}return[l(n)+"="+l(String(d))]}var v=[];if("undefined"==typeof d)return v;var h;if(Array.isArray(u))h=u;else{var g=Object.keys(d);h=c?g.sort(c):g}for(var b=0;b<h.length;++b){var m=h[b];i&&null===d[m]||(v=Array.isArray(d)?v.concat(t(d[m],r(n,m),r,o,i,a,u,c,s,f,l,p)):v.concat(t(d[m],n+(s?"."+m:"["+m+"]"),r,o,i,a,u,c,s,f,l,p)))}return v},Jr=function(t,e){var n=t,r=e||{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o="undefined"==typeof r.delimiter?Vr.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Vr.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:Vr.skipNulls,u="boolean"==typeof r.encode?r.encode:Vr.encode,c="function"==typeof r.encoder?r.encoder:Vr.encoder,s="function"==typeof r.sort?r.sort:null,f="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:Vr.serializeDate,p="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:Vr.encodeValuesOnly;if("undefined"==typeof r.format)r.format=qr.default;else if(!Object.prototype.hasOwnProperty.call(qr.formatters,r.format))throw new TypeError("Unknown format option provided.");var d,y,v=qr.formatters[r.format];"function"==typeof r.filter?(y=r.filter,n=y("",n)):Array.isArray(r.filter)&&(y=r.filter,d=y);var h=[];if("object"!=typeof n||null===n)return"";var g;g=r.arrayFormat in Gr?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var b=Gr[g];d||(d=Object.keys(n)),s&&d.sort(s);for(var m=0;m<d.length;++m){var j=d[m];a&&null===n[j]||(h=h.concat(Xr(n[j],j,b,i,a,u?c:null,y,s,f,l,v,p)))}return h.join(o)},Wr=Object.prototype.hasOwnProperty,Qr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:kr.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Yr=function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<r.length;++o){var i,a,u=r[o],c=u.indexOf("]=")===-1?u.indexOf("="):u.indexOf("]=")+1;c===-1?(i=e.decoder(u),a=e.strictNullHandling?null:""):(i=e.decoder(u.slice(0,c)),a=e.decoder(u.slice(c+1))),Wr.call(n,i)?n[i]=[].concat(n[i]).concat(a):n[i]=a}return n},Zr=function(t,e,n){if(!t.length)return e;var r,o=t.shift();if("[]"===o)r=[],r=r.concat(Zr(t,e,n));else{r=n.plainObjects?Object.create(null):{};var i="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,a=parseInt(i,10);!isNaN(a)&&o!==i&&String(a)===i&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(r=[],r[a]=Zr(t,e,n)):r[i]=Zr(t,e,n)}return r},to=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=o.exec(r),u=a?r.slice(0,a.index):r,c=[];if(u){if(!n.plainObjects&&Wr.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var s=0;null!==(a=i.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&Wr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),Zr(c,e,n)}},eo=function(t,e){var n=e||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||kr.isRegExp(n.delimiter)?n.delimiter:Qr.delimiter,n.depth="number"==typeof n.depth?n.depth:Qr.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:Qr.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:Qr.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:Qr.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:Qr.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:Qr.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:Qr.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Qr.strictNullHandling,""===t||null===t||"undefined"==typeof t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?Yr(t,n):t,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var u=i[a],c=to(u,r[u],n);o=kr.merge(o,c,n)}return kr.compact(o)},no={formats:qr,parse:eo,stringify:Jr},ro="function"==typeof fetch?fetch:function(t,e){return e=e||{},new Promise(function(n,r){function o(){var t,e=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){e.push(i=i.toLowerCase()),n.push([i,a]),t=r[i],r[i]=t?t+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return e},entries:function(){return n},get:function(t){return r[t.toLowerCase()]},has:function(t){return t.toLowerCase()in r}}}}var i=new XMLHttpRequest;i.open(e.method||"get",t);for(var a in e.headers)i.setRequestHeader(a,e.headers[a]);i.withCredentials="include"==e.credentials,i.onload=function(){n(o())},i.onerror=r,i.send(e.body)})},oo=Object.freeze({default:ro}),io=oo&&ro||oo,ao=window.fetch=io,uo="application/json",co="https://appgrid-api.cloud.accedo.tv",so="same-origin",fo={accept:uo},lo=function(t){var e=t.ip;return e?{"X-FORWARDED-FOR":e}:{}},po=function(t){var e=t.sessionKey;return e?{"X-SESSION":e}:{}},yo=function(){return{"Content-Type":uo}},vo=function(t,e){void 0===e&&(e={});var n=t.sessionKey?{}:{appKey:t.appKey,uuid:t.deviceId};t.gid&&(n.gid=t.gid);var r=Object.assign({},e,n),o=no.stringify(r);return o},ho=function(t,e){var n=t.split("?"),r=n[0],o=no.parse(n[1]),i=vo(e,o);return""+co+r+"?"+i},go=function(t){return Object.assign({},lo(t),po(t))},bo=function(t,e){var n=Object.assign({},fo,go(e)),r=ho(t,e);return e.log("Sending a GET request to: "+r+" with the following headers",n),ao(r,{credentials:so,headers:n}).then(function(t){if(t.status>=400)throw e.log("GET failed with status",t.status),t;return t})},mo=function(t,e){return e.log("Requesting",t),bo(t,e).then(function(t){return t.json()}).then(function(t){return e.log("GET response",t),t})},jo=function(t,e){return bo(t,e).then(function(t){return t.body})},Ao=function(t,e,n){void 0===n&&(n={});var r=Object.assign({},fo,yo(),go(e)),o=ho(t,e);e.log("Sending a POST request to: "+o+". With the following headers and body: ",r,n);var i={headers:r,credentials:so,method:"post",body:JSON.stringify(n)};return ao(o,i).then(function(t){var n=t.status,r=t.statusText;if(200!==n)throw new Error("AppGrid POST request returned a non-200 response. Status Code: "+n+". Status Text: "+r);var o={status:n,statusText:r};return e.log("POST response: ",{status:n,statusText:r}),o})},Oo=_r().init(function(t){var e,n=t.instance;n.createSession=function(){var t=this;return e?e:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),e=mo("/session",this.props.config).then(function(n){var r=n.sessionKey;return t.props.config.sessionKey=r,e=null,r}).catch(function(t){throw e=null,t}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(t){var e=this;return this.getSessionKey()?t().catch(function(n){if(n&&401===n.status)return e.createSession().then(t);throw n}):this.createSession().then(t)}}),wo=_r().methods({getEntries:function(t){return nt.call(this,"/content/entries",t)},getEntryById:function(t,e){return nt.call(this,"/content/entry/"+t,e)},getEntryByAlias:function(t,e){return nt.call(this,"/content/entry/alias/"+t,e)}}).compose(Oo),xo=_r().methods({getApplicationStatus:function(){var t=this;return this.withSessionHandling(function(){return mo("/status",t.props.config)})}}).compose(Oo),So=_r().methods({getAllAssets:function(){var t=this;return this.withSessionHandling(function(){return mo("/asset",t.props.config)})},getAssetById:function(t){return jo("/asset/file/"+t,this.props.config)}}).compose(Oo),Io=_r().methods({sendUsageStartEvent:function(){return rt.call(this,"START")},sendUsageStopEvent:function(t){return rt.call(this,"QUIT",t)}}).compose(Oo),Po="debug",Ko="info",Co="warn",Do="error",Eo=[Po,Ko,Co,Do],Uo=function(t,e){return void 0===t&&(t="0"),void 0===e&&(e="0"),parseInt(""+t+e,10)},To=function(t,e){return t+(e?" | Metadata: "+JSON.stringify(e):"")},Ho=function(t,e){void 0===t&&(t={});var n=To(t.message,e),r=Uo(t.facilityCode,t.errorCode);return{code:r,message:n,dim1:t.dim1,dim2:t.dim2,dim3:t.dim3,dim4:t.dim4}},Fo=_r().methods({getLogLevel:function(){return ot.call(this,"/application/log/level").then(function(t){return t.logLevel})},sendLog:function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!Eo.includes(t))return Promise.reject("Unsupported log level");var o=Ho(e,n);return it.call(this,t,o)},sendLogs:function(t){var e=t.map(function(t){var e=t.logType,n=t.timestamp;return Object.assign(Ho(t,t.metadata),{logType:e,timestamp:n})});return at.call(this,e)}}).compose(Oo),Lo=_r().methods({getAllEnabledPlugins:function(){var t=this;return this.withSessionHandling(function(){return mo("/plugins",t.props.config)})}}).compose(Oo),Ro=_r().methods({getProfileInfo:function(){var t=this;return this.withSessionHandling(function(){return mo("/profile",t.props.config)})}}).compose(Oo),No=_r().methods({getAllMetadata:function(){return ut.call(this,"/metadata")},getMetadataByKey:function(t){return ut.call(this,"/metadata/"+t)},getMetadataByKeys:function(t){return ut.call(this,"/metadata/"+t.join(","))}}).compose(Oo),Mo="user",_o="group",ko=_r().methods({getAllApplicationScopeDataByUser:function(t){return ft.call(this,Mo,t)},getAllApplicationGroupScopeDataByUser:function(t){return ft.call(this,_o,t)},getApplicationScopeDataByUserAndKey:function(t,e){return lt.call(this,Mo,t,e)},getApplicationGroupScopeDataByUserAndKey:function(t,e){return lt.call(this,_o,t,e)},setApplicationScopeUserData:function(t,e){return pt.call(this,Mo,t,e)},setApplicationGroupScopeUserData:function(t,e){return pt.call(this,_o,t,e)},setApplicationScopeUserDataByKey:function(t,e,n){return dt.call(this,Mo,t,e,n)},setApplicationGroupScopeUserDataByKey:function(t,e,n){return dt.call(this,_o,t,e,n)}}).compose(Oo),Bo=_r().methods({getAvailableLocales:function(){var t=this;return this.withSessionHandling(function(){return mo("/locales",t.props.config)})}}).compose(Oo),$o=_r().compose(Oo,wo,xo,So,Io,Fo,Lo,Ro,No,ko,Bo),qo=function(){},Go="undefined"!=typeof localStorage,zo="undefined"!=typeof sessionStorage,Vo=Go||zo,Xo=function(t){void 0===t&&(t={});var e=t.appKey,n=t.deviceId,r=t.sessionKey;return e&&!n&&!r||e&&n&&!r||e&&n&&r},Jo=function(t){var e=t.gid,n=t.appKey,r=t.ip,o=t.log;void 0===o&&(o=qo);var i=t.onDeviceIdGenerated;void 0===i&&(i=qo);var a=t.onSessionKeyChanged;void 0===a&&(a=qo);var u=t.deviceId,c=t.sessionKey;if(u||(c=null),!Xo({appKey:n,deviceId:u,sessionKey:c}))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");u||(u=Et.v4(),i(u));var s={deviceId:u,gid:e,ip:r,appKey:n,log:o,onSessionKeyChanged:a};return Object.defineProperty(s,"sessionKey",{set:function(t){c=t,a(t)},get:function(){return c}}),$o({props:{config:s}})},Wo="ag_d",Qo="ag_s",Yo=function(){var t=localStorage[Wo],e=zo?sessionStorage[Qo]:void 0;return{deviceId:t,sessionKey:e}},Zo=function(t){Go&&(localStorage[Wo]=t)},ti=function(t){zo&&(sessionStorage[Qo]=t)},ei=function(t){if(!Vo)return Jo(t);var e=t.browserInfoProvider;void 0===e&&(e=Yo);var n=t.onDeviceIdGenerated;void 0===n&&(n=Zo);
var r=t.onSessionKeyChanged;void 0===r&&(r=ti);var o=t.deviceId,i=t.sessionKey;if((!o||!i)&&e){var a=e();o=o||a.deviceId,i=i||a.sessionKey}return Jo(Object.assign({},t,{deviceId:o,sessionKey:i,onDeviceIdGenerated:n,onSessionKeyChanged:r}))},ni=Vo?ei:Jo;return ni});
