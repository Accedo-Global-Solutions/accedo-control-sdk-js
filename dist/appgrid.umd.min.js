!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.appgrid=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){var n=t||0,r=he;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function n(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var i=void 0!==e.clockseq?e.clockseq:Oe,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:xe+1,u=a-we+(c-xe)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||a>we)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");we=a,xe=c,Oe=i,a+=122192928e5;var s=(1e4*(268435455&a)+c)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var l=e.node||Ae,p=0;p<6;++p)o[r+p]=l[p];return t?t:me(o)}function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||ge)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||me(o)}function o(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return Ce(e)?e:Object(e)}function c(e){return function(t,n,r){for(var o=Re(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function u(e){return Ce(e)&&ke.call(e)==Fe}function s(e){return!!e&&"object"==typeof e}function f(e){return null!=e&&(_e(e)?Ve.test(qe.call(e)):Be(e)&&Me.test(e))}function l(e,t){var n=null==e?void 0:e[t];return ze(n)?n:void 0}function p(e){return function(t){return null==t?void 0:t[e]}}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ye}function y(e){return null!=e&&Ze(Je(e))}function v(e){return Be(e)&&et(e)&&nt.call(e,"callee")&&!rt.call(e,"callee")}function g(e,t){return e="number"==typeof e||lt.test(e)?+e:-1,t=null==t?pt:t,e>-1&&e%1==0&&e<t}function h(e){if(null==e)return[];Ce(e)||(e=Object(e));var t=e.length;t=t&&Ze(t)&&(ft(e)||ot(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&dt(c,t)||"constructor"==c&&(o||!vt.call(e,c))||i.push(c);return i}function b(e){for(var t=gt(e),n=t.length,r=n&&e.length,o=!!r&&Ze(r)&&(ft(e)||ot(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&dt(c,r)||bt.call(e,c))&&a.push(c)}return a}function m(e,t){return He(e,t,Ot)}function j(e,t){return function(n,r){var o=n?Je(n):0;if(!Ze(o))return e(n,r);for(var i=t?o:-1,a=Re(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function A(e){return e}function O(e,t,n){if("function"!=typeof e)return Lt;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function w(e,t){return function(n,r,o){return"function"==typeof r&&void 0===o&&ft(n)?e(n,r):t(n,It(r,o,3))}}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return Ct(e)?e:Object(e)}function P(e){return function(t,n,r){for(var o=Rt(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function L(e){return Ct(e)&&kt.call(e)==Ft}function I(e){return!!e&&"object"==typeof e}function E(e){return null!=e&&(_t(e)?Vt.test(qt.call(e)):Bt(e)&&Mt.test(e))}function K(e,t){var n=null==e?void 0:e[t];return zt(n)?n:void 0}function D(e){return function(t){return null==t?void 0:t[e]}}function C(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Yt}function R(e){return null!=e&&Zt(Jt(e))}function T(e){return Bt(e)&&en(e)&&nn.call(e,"callee")&&!rn.call(e,"callee")}function U(e,t){return e="number"==typeof e||pn.test(e)?+e:-1,t=null==t?dn:t,e>-1&&e%1==0&&e<t}function H(e){if(null==e)return[];Ct(e)||(e=Object(e));var t=e.length;t=t&&Zt(t)&&(ln(e)||on(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&yn(c,t)||"constructor"==c&&(o||!gn.call(e,c))||i.push(c);return i}function F(e){for(var t=hn(e),n=t.length,r=n&&e.length,o=!!r&&Zt(r)&&(ln(e)||on(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&yn(c,r)||mn.call(e,c))&&a.push(c)}return a}function N(e,t){return Ht(e,t,wn)}function k(e){return e}function _(e,t,n){if("function"!=typeof e)return Sn;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function B(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=Pn(n,r,3)),e(t,n)}}function M(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=Pn(n,r,3)),e(t,n,hn)}}function $(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function q(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function G(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function V(e,t){return null==t?e:Un(t,wn(t),e)}function z(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Nn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Q(e){var t=new _n(e.byteLength),n=new Bn(t);return n.set(new Bn(e)),t}function W(e,t,n){var r=e.constructor;switch(t){case Qn:return Mn(e);case $n:case qn:return new r(+e);case Wn:case Xn:case Jn:case Yn:case Zn:case er:case tr:case nr:case rr:var o=e.buffer;return new r(n?Mn(o):o,e.byteOffset,e.length);case Gn:case zn:return new r(e);case Vn:var i=new r(e.source,or.exec(e));i.lastIndex=e.lastIndex}return i}function X(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function J(e,t,n,r,o,i,a){var c;if(n&&(c=o?n(e,r,o):n(e)),void 0!==c)return c;if(!Ct(e))return e;var u=ln(e);if(u){if(c=kn(e),!t)return Rn(e,c)}else{var s=Cr.call(e),f=s==pr;if(s!=vr&&s!=cr&&(!f||o))return Kr[s]?ir(e,s,t):o?e:{};if(c=ar(f?{}:e),!t)return Hn(c,e)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==e)return a[l];return i.push(e),a.push(c),(u?Tn:xn)(e,function(r,o){c[o]=J(r,t,n,o,e,i,a)}),c}function Y(e,t,n){return"function"==typeof t?Rr(e,!0,Pn(t,n,3)):Rr(e,!0)}function Z(e){return void 0===e}function ee(e,t){void 0===t&&(t={});var n=t.id,r=t.typeId,o=t.alias,i=t.typeAlias,a=t.preview,c=t.at,u=t.offset,s=t.size,f=t.locale,l={};n&&Array.isArray(n)&&(l.id=n.join(",")),o&&Array.isArray(o)&&(l.alias=o.join(",")),r&&Array.isArray(r)&&(l.typeId=r.join(",")),a&&(l.preview=!0),"string"==typeof c?l.at=c:c&&c.toISOString&&(l.at=c.toISOString());var p=eo.stringify(Object.assign({},l,{typeAlias:i,offset:u,size:s,locale:f}));return e+"?"+p}function te(e,t){var n=this,r=ee(e,t);return this.withSessionHandling(function(){return uo(r,n.props.config)})}function ne(e,t){var n=this,r={eventType:e};return void 0!==t&&(r.retentionTime=t),this.withSessionHandling(function(){return mo("/event/log",n.props.config,r)})}function re(e){var t=this;return this.withSessionHandling(function(){return Io(e,t.props.config)})}function oe(e){var t=this;return this.withSessionHandling(function(){return Do(e,t.props.config)})}function ie(e,t){var n=this;return this.withSessionHandling(function(){return Co(e,n.props.config,t)})}function ae(e,t){return oe.call(this,"/"+e+"/"+t)}function ce(e,t,n){return oe.call(this,"/"+e+"/"+t+"/"+n+"?json=true")}function ue(e,t,n){return ie.call(this,"/"+e+"/"+t,n)}function se(e,t,n,r){return ie.call(this,"/"+e+"/"+t+"/"+n,r)}function fe(e,t){for(var n=this,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];var i=r.length?1===r.length?r[0]:r:void 0,a=Go(t,i);return this.withSessionHandling(function(){return n.getLogLevel().then(function(t){return zo.indexOf(t)>zo.indexOf(e)?Promise.resolve({status:200,statusText:"Request avoided",requestAvoided:!0}):$o("/application/log/"+e,n.props.config,a)})})}var le,pe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de=pe.crypto||pe.msCrypto;if(de&&de.getRandomValues){var ye=new Uint8Array(16);le=function(){return de.getRandomValues(ye),ye}}if(!le){var ve=new Array(16);le=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),ve[t]=e>>>((3&t)<<3)&255;return ve}}for(var ge=le,he=[],be=0;be<256;++be)he[be]=(be+256).toString(16).substr(1);var me=t,je=ge(),Ae=[1|je[0],je[1],je[2],je[3],je[4],je[5]],Oe=16383&(je[6]<<8|je[7]),we=0,xe=0,Se=n,Pe=r,Le=Pe;Le.v1=Se,Le.v4=Pe;var Ie=Le,Ee=e(function(e){var t=function(){},n=function(e){void 0===e&&(e={});var t=e.appKey,n=e.deviceId,r=e.sessionKey;return t&&!n&&!r||t&&n},r=function(e){return function(r){var o=r.gid,i=r.appKey,a=r.ip,c=r.target,u=r.log;void 0===u&&(u=t);var s=r.onDeviceIdGenerated;void 0===s&&(s=t);var f=r.onSessionKeyChanged;void 0===f&&(f=t);var l=r.deviceId,p=r.sessionKey;if(l||(p=null),!n({appKey:i,deviceId:l,sessionKey:p}))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");l||(l=Ie.v4(),s(l));var d={deviceId:l,gid:o,ip:a,appKey:i,target:c,log:u,onSessionKeyChanged:f};return Object.defineProperty(d,"sessionKey",{set:function(e){p=e,f(e)},get:function(){return p}}),e({props:{config:d}})}};e.exports=r}),Ke=e(function(e){var t=!1,n=!1;try{t="undefined"!=typeof localStorage,n="undefined"!=typeof sessionStorage}catch(e){}var r=t||n,o="ag_d",i="ag_s",a=function(){try{var e=localStorage[o],t=n?sessionStorage[i]:void 0;return{deviceId:e,sessionKey:t}}catch(e){return{}}},c=function(e){if(t)try{localStorage[o]=e}catch(e){}},u=function(e){if(n)try{sessionStorage[i]=e}catch(e){}},s=function(e){return function(t){var n=Ee(e);if(!r)return n(t);var o=t.browserInfoProvider;void 0===o&&(o=a);var i=t.onDeviceIdGenerated;void 0===i&&(i=c);var s=t.onSessionKeyChanged;void 0===s&&(s=u);var f=t.deviceId,l=t.sessionKey;if((!f||!l)&&o){var p=o();f=f||p.deviceId,l=l||p.sessionKey}return n(Object.assign({},t,{deviceId:f,sessionKey:l,onDeviceIdGenerated:i,onSessionKeyChanged:s}))}};e.exports=s}),De=o,Ce=i,Re=a,Te=c,Ue=Te(),He=Ue,Fe="[object Function]",Ne=Object.prototype,ke=Ne.toString,_e=u,Be=s,Me=/^\[object .+?Constructor\]$/,$e=Object.prototype,qe=Function.prototype.toString,Ge=$e.hasOwnProperty,Ve=RegExp("^"+qe.call(Ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=f,Qe=l,We=p,Xe=We("length"),Je=Xe,Ye=9007199254740991,Ze=d,et=y,tt=Object.prototype,nt=tt.hasOwnProperty,rt=tt.propertyIsEnumerable,ot=v,it="[object Array]",at=Object.prototype,ct=at.toString,ut=Qe(Array,"isArray"),st=ut||function(e){return Be(e)&&Ze(e.length)&&ct.call(e)==it},ft=st,lt=/^\d+$/,pt=9007199254740991,dt=g,yt=Object.prototype,vt=yt.hasOwnProperty,gt=h,ht=Object.prototype,bt=ht.hasOwnProperty,mt=b,jt=Qe(Object,"keys"),At=jt?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&et(e)?mt(e):Ce(e)?jt(e):[]}:mt,Ot=At,wt=m,xt=j,St=xt(wt),Pt=St,Lt=A,It=O,Et=w,Kt=Et(De,Pt),Dt=Kt,Ct=x,Rt=S,Tt=P,Ut=Tt(),Ht=Ut,Ft="[object Function]",Nt=Object.prototype,kt=Nt.toString,_t=L,Bt=I,Mt=/^\[object .+?Constructor\]$/,$t=Object.prototype,qt=Function.prototype.toString,Gt=$t.hasOwnProperty,Vt=RegExp("^"+qt.call(Gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=E,Qt=K,Wt=D,Xt=Wt("length"),Jt=Xt,Yt=9007199254740991,Zt=C,en=R,tn=Object.prototype,nn=tn.hasOwnProperty,rn=tn.propertyIsEnumerable,on=T,an="[object Array]",cn=Object.prototype,un=cn.toString,sn=Qt(Array,"isArray"),fn=sn||function(e){return Bt(e)&&Zt(e.length)&&un.call(e)==an},ln=fn,pn=/^\d+$/,dn=9007199254740991,yn=U,vn=Object.prototype,gn=vn.hasOwnProperty,hn=H,bn=Object.prototype,mn=bn.hasOwnProperty,jn=F,An=Qt(Object,"keys"),On=An?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&en(e)?jn(e):Ct(e)?An(e):[]}:jn,wn=On,xn=N,Sn=k,Pn=_,Ln=B,In=Ln(xn),En=In,Kn=M,Dn=Kn(Ht),Cn=Dn,Rn=$,Tn=q,Un=G,Hn=V,Fn=Object.prototype,Nn=Fn.hasOwnProperty,kn=z,_n=pe.ArrayBuffer,Bn=pe.Uint8Array,Mn=Q,$n="[object Boolean]",qn="[object Date]",Gn="[object Number]",Vn="[object RegExp]",zn="[object String]",Qn="[object ArrayBuffer]",Wn="[object Float32Array]",Xn="[object Float64Array]",Jn="[object Int8Array]",Yn="[object Int16Array]",Zn="[object Int32Array]",er="[object Uint8Array]",tr="[object Uint8ClampedArray]",nr="[object Uint16Array]",rr="[object Uint32Array]",or=/\w*$/,ir=W,ar=X,cr="[object Arguments]",ur="[object Array]",sr="[object Boolean]",fr="[object Date]",lr="[object Error]",pr="[object Function]",dr="[object Map]",yr="[object Number]",vr="[object Object]",gr="[object RegExp]",hr="[object Set]",br="[object String]",mr="[object WeakMap]",jr="[object ArrayBuffer]",Ar="[object Float32Array]",Or="[object Float64Array]",wr="[object Int8Array]",xr="[object Int16Array]",Sr="[object Int32Array]",Pr="[object Uint8Array]",Lr="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Er="[object Uint32Array]",Kr={};Kr[cr]=Kr[ur]=Kr[jr]=Kr[sr]=Kr[fr]=Kr[Ar]=Kr[Or]=Kr[wr]=Kr[xr]=Kr[Sr]=Kr[yr]=Kr[vr]=Kr[gr]=Kr[br]=Kr[Pr]=Kr[Lr]=Kr[Ir]=Kr[Er]=!0,Kr[lr]=Kr[pr]=Kr[dr]=Kr[hr]=Kr[mr]=!1;var Dr=Object.prototype,Cr=Dr.toString,Rr=J,Tr=Y,Ur=Z,Hr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.deep&&!e._innerMixer&&(e._innerMixer=!0,e._innerMixer=r(e)),function(t){function n(n,r){var o=t[r];if(!e.filter||e.filter(n,o,r)){var i=e.deep?e._innerMixer(o,n):n;t[r]=e.transform?e.transform(i,o,r):i}}for(var r=arguments,s=arguments.length,f=Array(s>1?s-1:0),l=1;l<s;l++)f[l-1]=r[l];if((0,u.default)(t)||!e.noOverwrite&&!(0,c.default)(t))return f.length>1?e._innerMixer.apply(e,[{}].concat(f)):(0,a.default)(f[0]);if(e.noOverwrite&&(!(0,c.default)(t)||!(0,c.default)(f[0])))return t;var p=e.chain?i.default:o.default;return f.forEach(function(e){p(e,n)}),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(En),i=n(Cn),a=n(Tr),c=n(Ct),u=n(Ur);e.exports=t.default}),Fr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(Hr),o=function(e){return"function"==typeof e},i=function(e){return!o(e)},a=(0,r.default)(),c=(0,r.default)({filter:o}),u=(0,r.default)({filter:o,chain:!0}),s=(0,r.default)({deep:!0}),f=(0,r.default)({deep:!0,noOverwrite:!0}),l=(0,r.default)({filter:i,deep:!0,chain:!0});t.default=r.default,t.mixin=a,t.mixinFunctions=c,t.mixinChainFunctions=u,t.merge=s,t.mergeUnique=f,t.mergeChainNonFunctions=l}),Nr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e&&(0,h.default)(e.then)}function o(){for(var e=arguments,t=[],n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,h.default)(r[0])?(0,g.default)(r,function(e){(0,h.default)(e)&&t.push(e)}):(0,b.default)(r[0])&&(0,g.default)(r,function(e){(0,g.default)(e,function(e){(0,h.default)(e)&&t.push(e)})}),t}function i(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.mixinFunctions.apply(void 0,[e.methods].concat(r))}function a(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return e.refs=e.state=Fr.mixin.apply(void 0,[e.refs].concat(r)),e.refs}function c(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=t[i];var a=o.apply(void 0,r);return e.init=e.enclose=e.init.concat(a),e.init}function u(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.merge.apply(void 0,[e.props].concat(r))}function s(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.mixin.apply(void 0,[e.static].concat(r))}function f(e,t){for(var n=arguments,r=j(e),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=n[a];return t.apply(void 0,[r.fixed].concat(i)),r}function l(){for(var e=arguments,t=j(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,g.default)(r,function(e){e&&e.fixed&&(i(t.fixed,e.fixed.methods),a(t.fixed,e.fixed.refs||e.fixed.state),c(t.fixed,e.fixed.init||e.fixed.enclose),u(t.fixed,e.fixed.props),s(t.fixed,e.fixed.static))}),(0,Fr.mixin)(t,t.fixed.static)}function p(e){return(0,h.default)(e)&&(0,h.default)(e.methods)&&((0,h.default)(e.refs)||(0,h.default)(e.state))&&((0,h.default)(e.init)||(0,h.default)(e.enclose))&&(0,h.default)(e.props)&&(0,h.default)(e.static)&&(0,b.default)(e.fixed)}function d(e){var t=j();return t.fixed.refs=t.fixed.state=(0,Fr.mergeChainNonFunctions)(t.fixed.refs,e.prototype),(0,Fr.mixin)(t,(0,Fr.mixin)(t.fixed.static,e)),(0,Fr.mixinChainFunctions)(t.fixed.methods,e.prototype),c(t.fixed,function(t){var n=t.instance,r=t.args;return e.apply(n,r)}),t}function y(e){for(var t=arguments,n=j(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=t[i];return e.apply(void 0,[n.fixed].concat(o)),n}function v(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),Fr.mixin.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(Dt),h=n(_e),b=n(Ce),m=Object.create,j=function(e){var t={methods:{},refs:{},init:[],props:{},static:{}};t.state=t.refs,t.enclose=t.init,e&&(i(t,e.methods),a(t,e.refs),c(t,e.init),u(t,e.props),s(t,e.static));var n=function(e){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=o[c];var u=(0,Fr.mixin)(m(t.methods),t.refs,e);(0,Fr.mergeUnique)(u,t.props);var s=null;return t.init.length>0&&(0,g.default)(t.init,function(e){if((0,h.default)(e))if(s)s=s.then(function(t){u=t||u;var o=e.call(u,{args:a,instance:u,stamp:n});return o?r(o)?o:u=o:u});else{var t=e.call(u,{args:a,instance:u,stamp:n});if(!t)return;if(!r(t))return void(u=t);s=t}}),s?s.then(function(e){return e||u}):u},o=f.bind(null,t,a),p=f.bind(null,t,c);return(0,Fr.mixin)(n,{create:n,fixed:t,methods:f.bind(null,t,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,t,u),static:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];var i=f.apply(void 0,[n.fixed,s].concat(r));return(0,Fr.mixin)(i,i.fixed.static)},compose:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];return l.apply(void 0,[n].concat(r))}},t.static)};t.default=(0,Fr.mixin)(j,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,c),props:y.bind(null,u),static:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];var o=y.apply(void 0,[s].concat(n));return(0,Fr.mixin)(o,o.fixed.static)},compose:l,mixin:v,extend:v,mixIn:v,assign:v,isStamp:p,convertConstructor:d}),e.exports=t.default}),kr=e(function(e,t){var n=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)"undefined"!=typeof t[o]&&r.push(t[o]);n.obj[n.prop]=r}}return t};t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},t.merge=function(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=t.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t.merge(e[i],r,o):e.push(r):e[i]=r}),e):Object.keys(r).reduce(function(e,i){var a=r[i];return n.call(e,i)?e[i]=t.merge(e[i],a,o):e[i]=a,e},i)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],c=Object.keys(a),u=0;u<c.length;++u){var s=c[u],f=a[s];"object"==typeof f&&null!==f&&n.indexOf(f)===-1&&(t.push({obj:a,prop:s}),n.push(f))}return o(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),_r=String.prototype.replace,Br=/%20/g,Mr={default:"RFC3986",formatters:{RFC1738:function(e){return _r.call(e,Br,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},$r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},qr=Date.prototype.toISOString,Gr={delimiter:"&",encode:!0,encoder:kr.encode,encodeValuesOnly:!1,serializeDate:function(e){return qr.call(e)},skipNulls:!1,strictNullHandling:!1},Vr=function e(t,n,r,o,i,a,c,u,s,f,l,p){var d=t;if("function"==typeof c)d=c(n,d);else if(d instanceof Date)d=f(d);else if(null===d){if(o)return a&&!p?a(n,Gr.encoder):n;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||kr.isBuffer(d)){if(a){var y=p?n:a(n,Gr.encoder);return[l(y)+"="+l(a(d,Gr.encoder))]}return[l(n)+"="+l(String(d))]}var v=[];if("undefined"==typeof d)return v;var g;if(Array.isArray(c))g=c;else{var h=Object.keys(d);g=u?h.sort(u):h}for(var b=0;b<g.length;++b){var m=g[b];i&&null===d[m]||(v=Array.isArray(d)?v.concat(e(d[m],r(n,m),r,o,i,a,c,u,s,f,l,p)):v.concat(e(d[m],n+(s?"."+m:"["+m+"]"),r,o,i,a,c,u,s,f,l,p)))}return v},zr=function(e,t){var n=e,r=t?kr.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o="undefined"==typeof r.delimiter?Gr.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Gr.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:Gr.skipNulls,c="boolean"==typeof r.encode?r.encode:Gr.encode,u="function"==typeof r.encoder?r.encoder:Gr.encoder,s="function"==typeof r.sort?r.sort:null,f="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:Gr.serializeDate,p="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:Gr.encodeValuesOnly;if("undefined"==typeof r.format)r.format=Mr.default;else if(!Object.prototype.hasOwnProperty.call(Mr.formatters,r.format))throw new TypeError("Unknown format option provided.");var d,y,v=Mr.formatters[r.format];"function"==typeof r.filter?(y=r.filter,n=y("",n)):Array.isArray(r.filter)&&(y=r.filter,d=y);var g=[];if("object"!=typeof n||null===n)return"";var h;h=r.arrayFormat in $r?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var b=$r[h];d||(d=Object.keys(n)),s&&d.sort(s);for(var m=0;m<d.length;++m){var j=d[m];a&&null===n[j]||(g=g.concat(Vr(n[j],j,b,i,a,c?u:null,y,s,f,l,v,p)))}var A=g.join(o),O=r.addQueryPrefix===!0?"?":"";return A.length>0?O+A:""},Qr=Object.prototype.hasOwnProperty,Wr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:kr.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Xr=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=0;a<i.length;++a){var c,u,s=i[a],f=s.indexOf("]="),l=f===-1?s.indexOf("="):f+1;l===-1?(c=t.decoder(s,Wr.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(s.slice(0,l),Wr.decoder),u=t.decoder(s.slice(l+1),Wr.decoder)),Qr.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}return n},Jr=function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=[],i=i.concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(i=[],i[u]=r):i[c]=r}r=i}return r},Yr=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=o.exec(r),c=a?r.slice(0,a.index):r,u=[];if(c){if(!n.plainObjects&&Qr.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var s=0;null!==(a=i.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&Qr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),Jr(u,t,n)}},Zr=function(e,t){var n=t?kr.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=n.ignoreQueryPrefix===!0,n.delimiter="string"==typeof n.delimiter||kr.isRegExp(n.delimiter)?n.delimiter:Wr.delimiter,n.depth="number"==typeof n.depth?n.depth:Wr.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:Wr.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:Wr.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:Wr.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:Wr.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:Wr.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:Wr.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Wr.strictNullHandling,""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?Xr(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var c=i[a],u=Yr(c,r[c],n);o=kr.merge(o,u,n)}return kr.compact(o)},eo={formats:Mr,parse:Zr,stringify:zr},to="function"==typeof fetch?fetch:function(e,t){return t=t||{},new Promise(function(n,r){function o(){var e,t=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){t.push(i=i.toLowerCase()),n.push([i,a]),e=r[i],r[i]=e?e+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}var i=new XMLHttpRequest;i.open(t.method||"get",e);for(var a in t.headers)i.setRequestHeader(a,t.headers[a]);i.withCredentials="include"==t.credentials,i.onload=function(){n(o())},i.onerror=r,i.send(t.body)})},no=Object.freeze({default:to}),ro=no&&to||no,oo=window.fetch=ro,io=e(function(e){var t="application/json",n="https://appgrid-api.cloud.accedo.tv",r="same-origin",o={accept:t},i=function(e){var t=e.ip;return t?{"X-FORWARDED-FOR":t}:{}},a=function(e){var t=e.sessionKey;return t?{"X-SESSION":t}:{}},c=function(){return{"Content-Type":t}},u=function(e,t){void 0===t&&(t={});var n=e.sessionKey?{}:{appKey:e.appKey,uuid:e.deviceId};e.gid&&(n.gid=e.gid);var r=Object.assign({},t,n),o=eo.stringify(r);return o},s=function(e,t){var r=t.target;void 0===r&&(r=n);var o=e.split("?"),i=o[0],a=eo.parse(o[1]),c=u(t,a);return""+r+i+"?"+c},f=function(e){return Object.assign({},i(e),a(e))},l=function(e,t){var n=Object.assign({},o,f(t)),i=s(e,t);return t.log("Sending a GET request to: "+i+" with the following headers",n),oo(i,{credentials:r,headers:n}).then(function(e){if(e.status>=400)throw t.log("GET failed with status",e.status),e;return e})};e.exports.grab=function(e,t){return t.log("Requesting",e),l(e,t).then(function(e){return e.json()}).then(function(e){return t.log("GET response",e),e})},e.exports.grabRaw=function(e,t){return l(e,t).then(function(e){return e.body})},e.exports.post=function(e,t,n){void 0===n&&(n={});var i=Object.assign({},o,c(),f(t)),a=s(e,t);t.log("Sending a POST request to: "+a+". With the following headers and body: ",i,n);var u={headers:i,credentials:r,method:"post",body:JSON.stringify(n)};return oo(a,u).then(function(e){var n=e.status,r=e.statusText;if(200!==n)throw new Error("AppGrid POST request returned a non-200 response. Status Code: "+n+". Status Text: "+r);var o={status:n,statusText:r};return t.log("POST response: ",{status:n,statusText:r}),o})}}),ao=io.grab,co=Nr().init(function(e){var t,n=e.instance;n.createSession=function(){var e=this;return t?t:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),t=ao("/session",this.props.config).then(function(n){var r=n.sessionKey;return e.props.config.sessionKey=r,t=null,r}).catch(function(e){throw t=null,e}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(e){var t=this;return this.getSessionKey()?e().catch(function(n){if(n&&401===n.status)return t.createSession().then(e);throw n}):this.createSession().then(e)}}),uo=io.grab,so=Nr().methods({getEntries:function(e){return te.call(this,"/content/entries",e)},getEntryById:function(e,t){return te.call(this,"/content/entry/"+e,t)},getEntryByAlias:function(e,t){return te.call(this,"/content/entry/alias/"+e,t)}}).compose(co),fo=so,lo=io.grab,po=Nr().methods({getApplicationStatus:function(){var e=this;return this.withSessionHandling(function(){return lo("/status",e.props.config)})}}).compose(co),yo=po,vo=io.grab,go=io.grabRaw,ho=Nr().methods({getAllAssets:function(){var e=this;return this.withSessionHandling(function(){return vo("/asset",e.props.config)})},getAssetById:function(e){return go("/asset/file/"+e,this.props.config)}}).compose(co),bo=ho,mo=io.post,jo=Nr().methods({sendUsageStartEvent:function(){return ne.call(this,"START")},sendUsageStopEvent:function(e){return ne.call(this,"QUIT",e)}}).compose(co),Ao=jo,Oo=io.grab,wo=Nr().methods({getAllEnabledPlugins:function(){var e=this;return this.withSessionHandling(function(){return Oo("/plugins",e.props.config)})}}).compose(co),xo=wo,So=io.grab,Po=Nr().methods({getProfileInfo:function(){var e=this;return this.withSessionHandling(function(){return So("/profile",e.props.config)})}}).compose(co),Lo=Po,Io=io.grab,Eo=Nr().methods({getAllMetadata:function(){return re.call(this,"/metadata")},getMetadataByKey:function(e){return re.call(this,"/metadata/"+e)},getMetadataByKeys:function(e){return re.call(this,"/metadata/"+e.join(","))}}).compose(co),Ko=Eo,Do=io.grab,Co=io.post,Ro="user",To="group",Uo=Nr().methods({getAllApplicationScopeDataByUser:function(e){return ae.call(this,Ro,e)},getAllApplicationGroupScopeDataByUser:function(e){return ae.call(this,To,e)},getApplicationScopeDataByUserAndKey:function(e,t){return ce.call(this,Ro,e,t)},getApplicationGroupScopeDataByUserAndKey:function(e,t){return ce.call(this,To,e,t)},setApplicationScopeUserData:function(e,t){return ue.call(this,Ro,e,t)},setApplicationGroupScopeUserData:function(e,t){return ue.call(this,To,e,t)},setApplicationScopeUserDataByKey:function(e,t,n){return se.call(this,Ro,e,t,n)},setApplicationGroupScopeUserDataByKey:function(e,t,n){return se.call(this,To,e,t,n)}}).compose(co),Ho=Uo,Fo=io.grab,No=Nr().methods({getAvailableLocales:function(){
var e=this;return this.withSessionHandling(function(){return Fo("/locales",e.props.config)})}}).compose(co),ko=No,_o=e(function(e){function t(e){var t=this;return this.withSessionHandling(function(){return r(e,t.props.config)})}function n(e){var t=this;return this.withSessionHandling(function(){return o("/application/logs",t.props.config,e)})}var r=io.grab,o=io.post,i="debug",a="info",c="warn",u="error",s=[i,a,c,u],f=function(e,t){return void 0===e&&(e="0"),void 0===t&&(t="0"),parseInt(""+e+t,10)},l=function(e,t){return t?JSON.stringify([e,t]):e},p=function(e,t){void 0===e&&(e={});var n=l(e.message,t),r=f(e.facilityCode,e.errorCode);return{code:r,message:n,dim1:e.dim1,dim2:e.dim2,dim3:e.dim3,dim4:e.dim4}},d=18e4,y=function(e){return Nr().init(function(e){var n,r=e.instance,o={};r.getLogLevel=function(){if(n)return n;var e=o.logLevel,r=o.timestamp;return void 0===r&&(r=0),Date.now()-r<d?Promise.resolve(e):n=t.call(this,"/application/log/level").then(function(e){var t=e.logLevel;return n=null,o={logLevel:t,timestamp:Date.now()},t}).catch(function(e){throw n=null,e})}}).methods({sendLog:function(t,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return s.includes(t)?e.call.apply(e,[this,t,n].concat(r)):Promise.reject("Unsupported log level")},sendLogs:function(e){var t=e.map(function(e){var t=e.logType,n=e.timestamp;return Object.assign(p(e,e.metadata),{logType:t,timestamp:n})});return n.call(this,t)}}).compose(co)};e.exports=y,e.exports.getLogEvent=p,e.exports.ALLOWED_LEVELS=s}),Bo=function(e){return Nr().compose(co,fo,yo,bo,Ao,xo,Lo,Ko,Ho,ko,_o(e))},Mo=Bo,$o=io.post,qo=_o.ALLOWED_LEVELS,Go=_o.getLogEvent,Vo="off",zo=qo.concat([Vo]),Qo=fe,Wo={sendLog:Qo},Xo=Wo.sendLog,Jo=Mo(Xo),Yo=Ke(Jo),Zo=Yo;return Zo});
