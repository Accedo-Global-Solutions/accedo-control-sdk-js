!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.appgrid=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t,e){var n=e||0,r=jt;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function r(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var i=void 0!==t.clockseq?t.clockseq:Pt,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:Ct+1,c=a-Kt+(u-Ct)/1e4;if(c<0&&void 0===t.clockseq&&(i=i+1&16383),(c<0||a>Kt)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Kt=a,Ct=u,Pt=i,a+=122192928e5;var s=(1e4*(268435455&a)+u)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var l=t.node||It,p=0;p<6;++p)o[r+p]=l[p];return e?e:xt(o)}function o(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||Et)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||Ut(o)}function i(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return _t(t)?t:Object(t)}function c(t){return function(e,n,r){for(var o=Bt(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return e}}function s(t){return Xt(t)&&Vt.call(t)==Jt}function f(t){return!!t&&"object"==typeof t}function l(t){return null!=t&&(Zt(t)?ie.test(re.call(t)):te(t)&&ee.test(t))}function p(t,e){var n=null==t?void 0:t[e];return ue(n)?n:void 0}function d(t){return function(e){return null==e?void 0:e[t]}}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=de}function v(t){return null!=t&&he(ve(t))}function h(t){return be(t)&&me(t)&&Ae.call(t,"callee")&&!we.call(t,"callee")}function g(t,e){return t="number"==typeof t||Te.test(t)?+t:-1,e=null==e?He:e,t>-1&&t%1==0&&t<e}function m(t){if(null==t)return[];_e(t)||(t=Object(t));var e=t.length;e=e&&Me(e)&&(Re(t)||Le(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=Array(e),a=e>0;++r<e;)i[r]=r+"";for(var u in t)a&&Ne(u,e)||"constructor"==u&&(o||!Be.call(t,u))||i.push(u);return i}function b(t){for(var e=Je(t),n=e.length,r=n&&t.length,o=!!r&&Xe(r)&&(Ge(t)||qe(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&ze(u,r)||Ve.call(t,u))&&a.push(u)}return a}function j(t,e){return an(t,e,un)}function A(t,e){return function(n,r){var o=n?sn(n):0;if(!fn(o))return t(n,r);for(var i=e?o:-1,a=ln(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function w(t){return t}function O(t,e,n){if("function"!=typeof t)return mn;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function x(t,e){return function(n,r,o){return"function"==typeof r&&void 0===o&&An(n)?t(n,r):e(n,jn(r,o,3))}}function S(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return Cn(t)?t:Object(t)}function P(t){return function(e,n,r){for(var o=En(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return e}}function K(t){return Ln(t)&&Mn.call(t)==Rn}function C(t){return!!t&&"object"==typeof t}function D(t){return null!=t&&(Bn(t)?Jn.test(zn.call(t)):$n(t)&&qn.test(t))}function E(t,e){var n=null==t?void 0:t[e];return Vn(n)?n:void 0}function U(t){return function(e){return null==e?void 0:e[t]}}function T(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=nr}function H(t){return null!=t&&ir(or(t))}function F(t){return cr(t)&&ur(t)&&fr.call(t,"callee")&&!lr.call(t,"callee")}function L(t,e){return t="number"==typeof t||wr.test(t)?+t:-1,e=null==e?Or:e,t>-1&&t%1==0&&t<e}function R(t){if(null==t)return[];Cr(t)||(t=Object(t));var e=t.length;e=e&&Kr(e)&&(Ir(t)||Sr(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=Array(e),a=e>0;++r<e;)i[r]=r+"";for(var u in t)a&&Pr(u,e)||"constructor"==u&&(o||!Er.call(t,u))||i.push(u);return i}function N(t){for(var e=Rr(t),n=e.length,r=n&&t.length,o=!!r&&Lr(r)&&(Hr(t)||Tr(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&Fr(u,r)||Mr.call(t,u))&&a.push(u)}return a}function M(t,e){return Jr(t,e,Wr)}function _(t){return t}function k(t,e,n){if("function"!=typeof t)return Yr;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function B(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=to(n,r,3)),t(e,n)}}function $(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=ao(n,r,3)),t(e,n,uo)}}function q(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function G(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function z(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}function X(t,e){return null==e?t:go(e,mo(e),t)}function J(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ao.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function W(t){var e=new Oo(t.byteLength),n=new xo(e);return n.set(new xo(t)),e}function V(t,e,n){var r=t.constructor;switch(e){case Uo:return Io(t);case Po:case Ko:return new r(+t);case To:case Ho:case Fo:case Lo:case Ro:case No:case Mo:case _o:case ko:var o=t.buffer;return new r(n?Io(o):o,t.byteOffset,t.length);case Co:case Eo:return new r(t);case Do:var i=new r(t.source,Bo.exec(t));i.lastIndex=t.lastIndex}return i}function Q(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function Y(t,e,n,r,o,i,a){var u;if(n&&(u=o?n(t,r,o):n(t)),void 0!==u)return u;if(!Zo(t))return t;var c=Yo(t);if(c){if(u=Wo(t),!e)return Go(t,u)}else{var s=Si.call(t),f=s==ii;if(s!=ci&&s!=ti&&(!f||o))return Oi[s]?Vo(t,s,e):o?t:{};if(u=Qo(f?{}:t),!e)return Xo(u,t)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==t)return a[l];return i.push(t),a.push(u),(c?zo:Jo)(t,function(r,o){u[o]=Y(r,e,n,o,t,i,a)}),u}function Z(t,e,n){return"function"==typeof e?Pi(t,!0,Ki(e,n,3)):Pi(t,!0)}function tt(t){return void 0===t}function et(t,e){void 0===e&&(e={});var n=e.id,r=e.typeId,o=e.alias,i=e.typeAlias,a=e.preview,u=e.at,c=e.offset,s=e.size,f=e.locale,l={};n&&Array.isArray(n)&&(l.id=n.join(",")),o&&Array.isArray(o)&&(l.alias=o.join(",")),r&&Array.isArray(r)&&(l.typeId=r.join(",")),a&&(l.preview=!0),"string"==typeof u?l.at=u:u&&u.toISOString&&(l.at=u.toISOString());var p=na.stringify(Object.assign({},l,{typeAlias:i,offset:c,size:s,locale:f}));return t+"?"+p}function nt(t,e){var n=this,r=et(t,e);return this.withSessionHandling(function(){return ma(r,n.props.config)})}function rt(t,e){var n=this,r={eventType:t};return void 0!==e&&(r.retentionTime=e),this.withSessionHandling(function(){return ja("/event/log",n.props.config,r)})}function ot(t){var e=this;return this.withSessionHandling(function(){return ma(t,e.props.config)})}function it(t,e){var n=this;return this.withSessionHandling(function(){return ja("/application/log/"+t,n.props.config,e)})}function at(t){var e=this;return this.withSessionHandling(function(){return ja("/application/logs",e.props.config,t)})}function ut(t){var e=this;return this.withSessionHandling(function(){return ma(t,e.props.config)})}function ct(t){var e=this;return this.withSessionHandling(function(){return ma(t,e.props.config)})}function st(t,e){var n=this;return this.withSessionHandling(function(){return ja(t,n.props.config,e)})}function ft(t,e){return ct.call(this,"/"+t+"/"+e)}function lt(t,e,n){return ct.call(this,"/"+t+"/"+e+"/"+n+"?json=true")}function pt(t,e,n){return st.call(this,"/"+t+"/"+e,n)}function dt(t,e,n,r){return st.call(this,"/"+t+"/"+e+"/"+n,r)}var yt,vt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ht=vt.crypto||vt.msCrypto;if(ht&&ht.getRandomValues){var gt=new Uint8Array(16);yt=function(){return ht.getRandomValues(gt),gt}}if(!yt){var mt=new Array(16);yt=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),mt[e]=t>>>((3&e)<<3)&255;return mt}}for(var bt=yt,jt=[],At=0;At<256;++At)jt[At]=(At+256).toString(16).substr(1);var wt=n,Ot=bt,xt=wt,St=Ot(),It=[1|St[0],St[1],St[2],St[3],St[4],St[5]],Pt=16383&(St[6]<<8|St[7]),Kt=0,Ct=0,Dt=r,Et=bt,Ut=wt,Tt=o,Ht=Dt,Ft=Tt,Lt=Ft;Lt.v1=Ht,Lt.v4=Ft;var Rt=Lt,Nt=i,Mt=a,_t=Mt,kt=u,Bt=kt,$t=c,qt=$t,Gt=qt(),zt=Gt,Xt=Mt,Jt="[object Function]",Wt=Object.prototype,Vt=Wt.toString,Qt=s,Yt=f,Zt=Qt,te=Yt,ee=/^\[object .+?Constructor\]$/,ne=Object.prototype,re=Function.prototype.toString,oe=ne.hasOwnProperty,ie=RegExp("^"+re.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=l,ue=ae,ce=p,se=d,fe=se,le=fe("length"),pe=le,de=9007199254740991,ye=y,ve=pe,he=ye,ge=v,me=ge,be=Yt,je=Object.prototype,Ae=je.hasOwnProperty,we=je.propertyIsEnumerable,Oe=h,xe=ce,Se=ye,Ie=Yt,Pe="[object Array]",Ke=Object.prototype,Ce=Ke.toString,De=xe(Array,"isArray"),Ee=De||function(t){return Ie(t)&&Se(t.length)&&Ce.call(t)==Pe},Ue=Ee,Te=/^\d+$/,He=9007199254740991,Fe=g,Le=Oe,Re=Ue,Ne=Fe,Me=ye,_e=Mt,ke=Object.prototype,Be=ke.hasOwnProperty,$e=m,qe=Oe,Ge=Ue,ze=Fe,Xe=ye,Je=$e,We=Object.prototype,Ve=We.hasOwnProperty,Qe=b,Ye=ce,Ze=ge,tn=Mt,en=Qe,nn=Ye(Object,"keys"),rn=nn?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Ze(t)?en(t):tn(t)?nn(t):[]}:en,on=rn,an=zt,un=on,cn=j,sn=pe,fn=ye,ln=kt,pn=A,dn=cn,yn=pn,vn=yn(dn),hn=vn,gn=w,mn=gn,bn=O,jn=bn,An=Ue,wn=x,On=Nt,xn=hn,Sn=wn,In=Sn(On,xn),Pn=In,Kn=S,Cn=Kn,Dn=I,En=Dn,Un=P,Tn=Un,Hn=Tn(),Fn=Hn,Ln=Kn,Rn="[object Function]",Nn=Object.prototype,Mn=Nn.toString,_n=K,kn=C,Bn=_n,$n=kn,qn=/^\[object .+?Constructor\]$/,Gn=Object.prototype,zn=Function.prototype.toString,Xn=Gn.hasOwnProperty,Jn=RegExp("^"+zn.call(Xn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=D,Vn=Wn,Qn=E,Yn=U,Zn=Yn,tr=Zn("length"),er=tr,nr=9007199254740991,rr=T,or=er,ir=rr,ar=H,ur=ar,cr=kn,sr=Object.prototype,fr=sr.hasOwnProperty,lr=sr.propertyIsEnumerable,pr=F,dr=Qn,yr=rr,vr=kn,hr="[object Array]",gr=Object.prototype,mr=gr.toString,br=dr(Array,"isArray"),jr=br||function(t){return vr(t)&&yr(t.length)&&mr.call(t)==hr},Ar=jr,wr=/^\d+$/,Or=9007199254740991,xr=L,Sr=pr,Ir=Ar,Pr=xr,Kr=rr,Cr=Kn,Dr=Object.prototype,Er=Dr.hasOwnProperty,Ur=R,Tr=pr,Hr=Ar,Fr=xr,Lr=rr,Rr=Ur,Nr=Object.prototype,Mr=Nr.hasOwnProperty,_r=N,kr=Qn,Br=ar,$r=Kn,qr=_r,Gr=kr(Object,"keys"),zr=Gr?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Br(t)?qr(t):$r(t)?Gr(t):[]}:qr,Xr=zr,Jr=Fn,Wr=Xr,Vr=M,Qr=_,Yr=Qr,Zr=k,to=Zr,eo=B,no=Vr,ro=eo,oo=ro(no),io=oo,ao=Zr,uo=Ur,co=$,so=Fn,fo=co,lo=fo(so),po=lo,yo=q,vo=G,ho=z,go=ho,mo=Xr,bo=X,jo=Object.prototype,Ao=jo.hasOwnProperty,wo=J,Oo=vt.ArrayBuffer,xo=vt.Uint8Array,So=W,Io=So,Po="[object Boolean]",Ko="[object Date]",Co="[object Number]",Do="[object RegExp]",Eo="[object String]",Uo="[object ArrayBuffer]",To="[object Float32Array]",Ho="[object Float64Array]",Fo="[object Int8Array]",Lo="[object Int16Array]",Ro="[object Int32Array]",No="[object Uint8Array]",Mo="[object Uint8ClampedArray]",_o="[object Uint16Array]",ko="[object Uint32Array]",Bo=/\w*$/,$o=V,qo=Q,Go=yo,zo=vo,Xo=bo,Jo=Vr,Wo=wo,Vo=$o,Qo=qo,Yo=Ar,Zo=Kn,ti="[object Arguments]",ei="[object Array]",ni="[object Boolean]",ri="[object Date]",oi="[object Error]",ii="[object Function]",ai="[object Map]",ui="[object Number]",ci="[object Object]",si="[object RegExp]",fi="[object Set]",li="[object String]",pi="[object WeakMap]",di="[object ArrayBuffer]",yi="[object Float32Array]",vi="[object Float64Array]",hi="[object Int8Array]",gi="[object Int16Array]",mi="[object Int32Array]",bi="[object Uint8Array]",ji="[object Uint8ClampedArray]",Ai="[object Uint16Array]",wi="[object Uint32Array]",Oi={};Oi[ti]=Oi[ei]=Oi[di]=Oi[ni]=Oi[ri]=Oi[yi]=Oi[vi]=Oi[hi]=Oi[gi]=Oi[mi]=Oi[ui]=Oi[ci]=Oi[si]=Oi[li]=Oi[bi]=Oi[ji]=Oi[Ai]=Oi[wi]=!0,Oi[oi]=Oi[ii]=Oi[ai]=Oi[fi]=Oi[pi]=!1;var xi=Object.prototype,Si=xi.toString,Ii=Y,Pi=Ii,Ki=Zr,Ci=Z,Di=tt,Ei=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.deep&&!t._innerMixer&&(t._innerMixer=!0,t._innerMixer=r(t)),function(e){function n(n,r){var o=e[r];if(!t.filter||t.filter(n,o,r)){var i=t.deep?t._innerMixer(o,n):n;e[r]=t.transform?t.transform(i,o,r):i}}for(var r=arguments,o=arguments.length,a=Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=r[c];if((0,d.default)(e)||!t.noOverwrite&&!(0,l.default)(e))return a.length>1?t._innerMixer.apply(t,[{}].concat(a)):(0,s.default)(a[0]);if(t.noOverwrite&&(!(0,l.default)(e)||!(0,l.default)(a[0])))return e;var f=t.chain?u.default:i.default;return a.forEach(function(t){f(t,n)}),e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=io,i=n(o),a=po,u=n(a),c=Ci,s=n(c),f=Kn,l=n(f),p=Di,d=n(p);t.exports=e.default}),Ui=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Ei,o=n(r),i=function(t){return"function"==typeof t},a=function(t){return!i(t)},u=(0,o.default)(),c=(0,o.default)({filter:i}),s=(0,o.default)({filter:i,chain:!0}),f=(0,o.default)({deep:!0}),l=(0,o.default)({deep:!0,noOverwrite:!0}),p=(0,o.default)({filter:a,deep:!0,chain:!0});e.default=o.default,e.mixin=u,e.mixinFunctions=c,e.mixinChainFunctions=s,e.merge=f,e.mergeUnique=l,e.mergeChainNonFunctions=p}),Ti=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t&&(0,b.default)(t.then)}function o(){for(var t=arguments,e=[],n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=t[o];return(0,b.default)(r[0])?(0,g.default)(r,function(t){(0,b.default)(t)&&e.push(t)}):(0,A.default)(r[0])&&(0,g.default)(r,function(t){(0,g.default)(t,function(t){(0,b.default)(t)&&e.push(t)})}),e}function i(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return w.mixinFunctions.apply(void 0,[t.methods].concat(r))}function a(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return t.refs=t.state=w.mixin.apply(void 0,[t.refs].concat(r)),t.refs}function u(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=e[i];var a=o.apply(void 0,r);return t.init=t.enclose=t.init.concat(a),t.init}function c(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return w.merge.apply(void 0,[t.props].concat(r))}function s(t){for(var e=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=e[o];return w.mixin.apply(void 0,[t.static].concat(r))}function f(t,e){for(var n=arguments,r=x(t),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=n[a];return e.apply(void 0,[r.fixed].concat(i)),r}function l(){for(var t=arguments,e=x(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=t[o];return(0,g.default)(r,function(t){t&&t.fixed&&(i(e.fixed,t.fixed.methods),a(e.fixed,t.fixed.refs||t.fixed.state),u(e.fixed,t.fixed.init||t.fixed.enclose),c(e.fixed,t.fixed.props),s(e.fixed,t.fixed.static))}),(0,w.mixin)(e,e.fixed.static)}function p(t){return(0,b.default)(t)&&(0,b.default)(t.methods)&&((0,b.default)(t.refs)||(0,b.default)(t.state))&&((0,b.default)(t.init)||(0,b.default)(t.enclose))&&(0,b.default)(t.props)&&(0,b.default)(t.static)&&(0,A.default)(t.fixed)}function d(t){var e=x();return e.fixed.refs=e.fixed.state=(0,w.mergeChainNonFunctions)(e.fixed.refs,t.prototype),(0,w.mixin)(e,(0,w.mixin)(e.fixed.static,t)),(0,w.mixinChainFunctions)(e.fixed.methods,t.prototype),u(e.fixed,function(e){var n=e.instance,r=e.args;return t.apply(n,r)}),e}function y(t){for(var e=arguments,n=x(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=e[i];return t.apply(void 0,[n.fixed].concat(o)),n}function v(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),w.mixin.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var h=Pn,g=n(h),m=Qt,b=n(m),j=Mt,A=n(j),w=Ui,O=Object.create,x=function(t){var e={methods:{},refs:{},init:[],props:{},static:{}};e.state=e.refs,e.enclose=e.init,t&&(i(e,t.methods),a(e,t.refs),u(e,t.init),c(e,t.props),s(e,t.static));var n=function(t){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=o[u];var c=(0,w.mixin)(O(e.methods),e.refs,t);(0,w.mergeUnique)(c,e.props);var s=null;return e.init.length>0&&(0,g.default)(e.init,function(t){if((0,b.default)(t))if(s)s=s.then(function(e){c=e||c;var o=t.call(c,{args:a,instance:c,stamp:n});return o?r(o)?o:c=o:c});else{var e=t.call(c,{args:a,instance:c,stamp:n});if(!e)return;if(!r(e))return void(c=e);s=e}}),s?s.then(function(t){return t||c}):c},o=f.bind(null,e,a),p=f.bind(null,e,u);return(0,w.mixin)(n,{create:n,fixed:e,methods:f.bind(null,e,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,e,c),static:function(){for(var t=arguments,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=t[o];var i=f.apply(void 0,[n.fixed,s].concat(r));return(0,w.mixin)(i,i.fixed.static)},compose:function(){for(var t=arguments,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=t[o];return l.apply(void 0,[n].concat(r))}},e.static)};e.default=(0,w.mixin)(x,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,u),props:y.bind(null,c),static:function(){for(var t=arguments,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=t[r];var o=y.apply(void 0,[s].concat(n));return(0,w.mixin)(o,o.fixed.static)},compose:l,mixin:v,extend:v,mixIn:v,assign:v,isStamp:p,convertConstructor:d}),t.exports=e.default}),Hi=t(Ti),Fi=e(function(t,e){var n=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)"undefined"!=typeof t[r]&&(n[r]=t[r]);return n},e.merge=function(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];t[r]=!0}return t}if("object"!=typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,n){var i=r[n];return Object.prototype.hasOwnProperty.call(t,n)?t[n]=e.merge(t[n],i,o):t[n]=i,t},i)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=e.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var r=n||[],o=r.indexOf(t);if(o!==-1)return r[o];if(r.push(t),Array.isArray(t)){for(var i=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?i.push(e.compact(t[a],r)):"undefined"!=typeof t[a]&&i.push(t[a]);return i}var u=Object.keys(t);return u.forEach(function(n){t[n]=e.compact(t[n],r)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),Li=String.prototype.replace,Ri=/%20/g,Ni={default:"RFC3986",formatters:{RFC1738:function(t){return Li.call(t,Ri,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Mi=Fi,_i=Ni,ki={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Bi=Date.prototype.toISOString,$i={delimiter:"&",encode:!0,encoder:Mi.encode,serializeDate:function(t){return Bi.call(t)},skipNulls:!1,strictNullHandling:!1},qi=function t(e,n,r,o,i,a,u,c,s,f,l){var p=e;if("function"==typeof u)p=u(n,p);else if(p instanceof Date)p=f(p);else if(null===p){if(o)return a?a(n):n;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||Mi.isBuffer(p))return a?[l(a(n))+"="+l(a(p))]:[l(n)+"="+l(String(p))];var d=[];if("undefined"==typeof p)return d;var y;if(Array.isArray(u))y=u;else{var v=Object.keys(p);y=c?v.sort(c):v}for(var h=0;h<y.length;++h){var g=y[h];i&&null===p[g]||(d=Array.isArray(p)?d.concat(t(p[g],r(n,g),r,o,i,a,u,c,s,f,l)):d.concat(t(p[g],n+(s?"."+g:"["+g+"]"),r,o,i,a,u,c,s,f,l)))}return d},Gi=function(t,e){var n=t,r=e||{},o="undefined"==typeof r.delimiter?$i.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:$i.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:$i.skipNulls,u="boolean"==typeof r.encode?r.encode:$i.encode,c=u?"function"==typeof r.encoder?r.encoder:$i.encoder:null,s="function"==typeof r.sort?r.sort:null,f="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:$i.serializeDate;if("undefined"==typeof r.format)r.format=_i.default;else if(!Object.prototype.hasOwnProperty.call(_i.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,d,y=_i.formatters[r.format];if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof r.filter?(d=r.filter,n=d("",n)):Array.isArray(r.filter)&&(d=r.filter,p=d);var v=[];if("object"!=typeof n||null===n)return"";var h;h=r.arrayFormat in ki?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var g=ki[h];p||(p=Object.keys(n)),s&&p.sort(s);for(var m=0;m<p.length;++m){var b=p[m];a&&null===n[b]||(v=v.concat(qi(n[b],b,g,i,a,c,d,s,f,l,y)))}return v.join(o)},zi=Fi,Xi=Object.prototype.hasOwnProperty,Ji={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:zi.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Wi=function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<r.length;++o){var i,a,u=r[o],c=u.indexOf("]=")===-1?u.indexOf("="):u.indexOf("]=")+1;c===-1?(i=e.decoder(u),a=e.strictNullHandling?null:""):(i=e.decoder(u.slice(0,c)),a=e.decoder(u.slice(c+1))),Xi.call(n,i)?n[i]=[].concat(n[i]).concat(a):n[i]=a}return n},Vi=function t(e,n,r){if(!e.length)return n;var o,i=e.shift();if("[]"===i)o=[],o=o.concat(t(e,n,r));else{o=r.plainObjects?Object.create(null):{};var a="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,u=parseInt(a,10);!isNaN(u)&&i!==a&&String(u)===a&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=t(e,n,r)):o[a]=t(e,n,r)}return o},Qi=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,a=o.exec(r),u=[];if(a[1]){if(!n.plainObjects&&Xi.call(Object.prototype,a[1])&&!n.allowPrototypes)return;u.push(a[1])}for(var c=0;null!==(a=i.exec(r))&&c<n.depth;)c+=1,(n.plainObjects||!Xi.call(Object.prototype,a[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&u.push(a[1]);return a&&u.push("["+r.slice(a.index)+"]"),Vi(u,e,n)}},Yi=function(t,e){var n=e||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||zi.isRegExp(n.delimiter)?n.delimiter:Ji.delimiter,n.depth="number"==typeof n.depth?n.depth:Ji.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:Ji.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:Ji.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:Ji.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:Ji.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:Ji.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:Ji.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Ji.strictNullHandling,""===t||null===t||"undefined"==typeof t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?Wi(t,n):t,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var u=i[a],c=Qi(u,r[u],n);o=zi.merge(o,c,n)}return zi.compact(o)},Zi=Gi,ta=Yi,ea=Ni,na={formats:ea,parse:ta,stringify:Zi},ra="function"==typeof fetch?fetch:function(t,e){return e=e||{},new Promise(function(n,r){function o(){var t,e=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){e.push(i=i.toLowerCase()),n.push([i,a]),t=r[i],r[i]=t?t+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return e},entries:function(){return n},get:function(t){return r[t.toLowerCase()]},has:function(t){return t.toLowerCase()in r}}}}var i=new XMLHttpRequest;i.open(e.method||"get",t);for(var a in e.headers)i.setRequestHeader(a,e.headers[a]);i.withCredentials="include"==e.credentials,i.onload=function(){n(o())},i.onerror=r,i.send(e.body)})},oa=Object.freeze({default:ra}),ia=oa&&ra||oa,aa=window.fetch=ia,ua="application/json",ca="https://appgrid-api.cloud.accedo.tv",sa="same-origin",fa={accept:ua},la=function(t){var e=t.ip;return e?{"X-FORWARDED-FOR":e}:{}},pa=function(t){var e=t.sessionKey;return e?{"X-SESSION":e}:{}},da=function(){return{"Content-Type":ua}},ya=function(t,e){void 0===e&&(e={});var n=t.sessionKey?{}:{appKey:t.appKey,uuid:t.deviceId};t.gid&&(n.gid=t.gid);var r=Object.assign({},e,n),o=na.stringify(r);return o},va=function(t,e){var n=t.split("?"),r=n[0],o=na.parse(n[1]),i=ya(e,o);return""+ca+r+"?"+i},ha=function(t){return Object.assign({},la(t),pa(t))},ga=function(t,e){var n=Object.assign({},fa,ha(e)),r=va(t,e);return e.log("Sending a GET request to: "+r+" with the following headers",n),aa(r,{credentials:sa,headers:n}).then(function(t){if(t.status>=400)throw e.log("GET failed with status",t.status),t;return t})},ma=function(t,e){return e.log("Requesting",t),ga(t,e).then(function(t){return t.json()}).then(function(t){return e.log("GET response",t),t})},ba=function(t,e){return ga(t,e).then(function(t){return t.body})},ja=function(t,e,n){void 0===n&&(n={});var r=Object.assign({},fa,da(),ha(e)),o=va(t,e);e.log("Sending a POST request to: "+o+". With the following headers and body: ",r,n);var i={headers:r,credentials:sa,method:"post",body:JSON.stringify(n)};return aa(o,i).then(function(t){var n=t.status,r=t.statusText;if(200!==n)throw new Error("AppGrid POST request returned a non-200 response. Status Code: "+n+". Status Text: "+r);var o={status:n,statusText:r};return e.log("POST response: ",{status:n,statusText:r}),o})},Aa=Hi().init(function(t){var e,n=t.stamp;n.fixed.methods.createSession=function(){var t=this;return e?e:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),e=ma("/session",this.props.config).then(function(n){var r=n.sessionKey;return t.props.config.sessionKey=r,e=null,r}).catch(function(t){throw e=null,t}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(t){var e=this;return this.getSessionKey()?t().catch(function(n){if(n&&401===n.status)return e.createSession().then(t);throw n}):this.createSession().then(t)}}),wa=Hi().methods({getEntries:function(t){return nt.call(this,"/content/entries",t)},getEntryById:function(t,e){return nt.call(this,"/content/entry/"+t,e)},getEntryByAlias:function(t,e){return nt.call(this,"/content/entry/alias/"+t,e)}}).compose(Aa),Oa=Hi().methods({getApplicationStatus:function(){var t=this;return this.withSessionHandling(function(){return ma("/status",t.props.config)})}}).compose(Aa),xa=Hi().methods({getAllAssets:function(){var t=this;return this.withSessionHandling(function(){return ma("/asset",t.props.config)})},getAssetById:function(t){return ba("/asset/file/"+t,this.props.config)}}).compose(Aa),Sa=Hi().methods({sendUsageStartEvent:function(){return rt.call(this,"START")},sendUsageStopEvent:function(t){return rt.call(this,"QUIT",t)}}).compose(Aa),Ia="debug",Pa="info",Ka="warn",Ca="error",Da=[Ia,Pa,Ka,Ca],Ea=function(t,e){return void 0===t&&(t="0"),void 0===e&&(e="0"),parseInt(""+t+e,10)},Ua=function(t,e){return t+(e?" | Metadata: "+JSON.stringify(e):"")},Ta=function(t,e){void 0===t&&(t={});var n=Ua(t.message,e),r=Ea(t.facilityCode,t.errorCode);return{code:r,message:n,dim1:t.dim1,dim2:t.dim2,dim3:t.dim3,dim4:t.dim4}},Ha=Hi().methods({getLogLevel:function(){return ot.call(this,"/application/log/level").then(function(t){return t.logLevel})},sendLog:function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!Da.includes(t))return Promise.reject("Unsupported log level");var o=Ta(e,n);return it.call(this,t,o)},sendLogs:function(t){var e=t.map(function(t){var e=t.logType,n=t.timestamp;return Object.assign(Ta(t,t.metadata),{logType:e,timestamp:n})});return at.call(this,e)}}).compose(Aa),Fa=Hi().methods({getAllEnabledPlugins:function(){var t=this;return this.withSessionHandling(function(){return ma("/plugins",t.props.config)})}}).compose(Aa),La=Hi().methods({getProfileInfo:function(){var t=this;return this.withSessionHandling(function(){return ma("/profile",t.props.config)})}}).compose(Aa),Ra=Hi().methods({getAllMetadata:function(){return ut.call(this,"/metadata")},getMetadataByKey:function(t){return ut.call(this,"/metadata/"+t)},getMetadataByKeys:function(t){return ut.call(this,"/metadata/"+t.join(","))}}).compose(Aa),Na="user",Ma="group",_a=Hi().methods({getAllApplicationScopeDataByUser:function(t){return ft.call(this,Na,t)},getAllApplicationGroupScopeDataByUser:function(t){return ft.call(this,Ma,t)},getApplicationScopeDataByUserAndKey:function(t,e){return lt.call(this,Na,t,e)},getApplicationGroupScopeDataByUserAndKey:function(t,e){return lt.call(this,Ma,t,e)},setApplicationScopeUserData:function(t,e){return pt.call(this,Na,t,e)},setApplicationGroupScopeUserData:function(t,e){return pt.call(this,Ma,t,e)},setApplicationScopeUserDataByKey:function(t,e,n){return dt.call(this,Na,t,e,n)},setApplicationGroupScopeUserDataByKey:function(t,e,n){return dt.call(this,Ma,t,e,n)}}).compose(Aa),ka=Hi().methods({getAvailableLocales:function(){var t=this;return this.withSessionHandling(function(){return ma("/locales",t.props.config)})}}).compose(Aa),Ba=Hi().compose(Aa,wa,Oa,xa,Sa,Ha,Fa,La,Ra,_a,ka),$a=function(){},qa="undefined"!=typeof localStorage,Ga="undefined"!=typeof sessionStorage,za=qa||Ga,Xa=function(t){void 0===t&&(t={});var e=t.appKey,n=t.deviceId,r=t.sessionKey;return e&&!n&&!r||e&&n&&!r||e&&n&&r},Ja=function(t){var e=t.gid,n=t.appKey,r=t.ip,o=t.log;void 0===o&&(o=$a);var i=t.onDeviceIdGenerated;void 0===i&&(i=$a);var a=t.onSessionKeyChanged;void 0===a&&(a=$a);var u=t.deviceId,c=t.sessionKey;if(u||(c=null),!Xa({appKey:n,deviceId:u,sessionKey:c}))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");u||(u=Rt.v4(),i(u));var s={deviceId:u,gid:e,ip:r,appKey:n,log:o,onSessionKeyChanged:a
};return Object.defineProperty(s,"sessionKey",{set:function(t){c=t,a(t)},get:function(){return c}}),Ba({props:{config:s}})},Wa="ag_d",Va="ag_s",Qa=function(){var t=localStorage[Wa],e=Ga?sessionStorage[Va]:void 0;return{deviceId:t,sessionKey:e}},Ya=function(t){qa&&(localStorage[Wa]=t)},Za=function(t){Ga&&(sessionStorage[Va]=t)},tu=function(t){if(!za)return Ja(t);var e=t.browserInfoProvider;void 0===e&&(e=Qa);var n=t.onDeviceIdGenerated;void 0===n&&(n=Ya);var r=t.onSessionKeyChanged;void 0===r&&(r=Za);var o=t.deviceId,i=t.sessionKey;if((!o||!i)&&e){var a=e();o=o||a.deviceId,i=i||a.sessionKey}return Ja(Object.assign({},t,{deviceId:o,sessionKey:i,onDeviceIdGenerated:n,onSessionKeyChanged:r}))},eu=za?tu:Ja;return eu});
