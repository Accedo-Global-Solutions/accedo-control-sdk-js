!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.appgrid=t()}(this,function(){"use strict";function e(e){return e&&e.__esModule?e.default:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e,t){var n=t||0,r=je;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function r(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var i=void 0!==e.clockseq?e.clockseq:Se,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Ie+1,u=a-Pe+(c-Ie)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||a>Pe)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pe=a,Ie=c,Se=i,a+=122192928e5;var s=(1e4*(268435455&a)+c)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var l=e.node||xe,p=0;p<6;++p)o[r+p]=l[p];return t?t:Oe(o)}function o(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||me)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Oe(o)}function i(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return Te(e)?e:Object(e)}function u(e){return function(t,n,r){for(var o=He(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function s(e){return Te(e)&&_e.call(e)==Ne}function f(e){return!!e&&"object"==typeof e}function l(e){return null!=e&&(Be(e)?Ve.test(Ge.call(e)):Me(e)&&$e.test(e))}function p(e,t){var n=null==e?void 0:e[t];return Qe(n)?n:void 0}function d(e){return function(t){return null==t?void 0:t[e]}}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ze}function v(e){return null!=e&&et(Ye(e))}function g(e){return Me(e)&&tt(e)&&rt.call(e,"callee")&&!ot.call(e,"callee")}function h(e,t){return e="number"==typeof e||pt.test(e)?+e:-1,t=null==t?dt:t,e>-1&&e%1==0&&e<t}function b(e){if(null==e)return[];Te(e)||(e=Object(e));var t=e.length;t=t&&et(t)&&(lt(e)||it(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&yt(c,t)||"constructor"==c&&(o||!gt.call(e,c))||i.push(c);return i}function m(e){for(var t=ht(e),n=t.length,r=n&&e.length,o=!!r&&et(r)&&(lt(e)||it(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&yt(c,r)||mt.call(e,c))&&a.push(c)}return a}function j(e,t){return Re(e,t,wt)}function A(e,t){return function(n,r){var o=n?Ye(n):0;if(!et(o))return e(n,r);for(var i=t?o:-1,a=He(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function O(e){return e}function w(e,t,n){if("function"!=typeof e)return Kt;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function x(e,t){return function(n,r,o){return"function"==typeof r&&void 0===o&&lt(n)?e(n,r):t(n,Ct(r,o,3))}}function S(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){return Tt(e)?e:Object(e)}function I(e){return function(t,n,r){for(var o=Ht(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function K(e){return Tt(e)&&_t.call(e)==Nt}function C(e){return!!e&&"object"==typeof e}function D(e){return null!=e&&(Bt(e)?Vt.test(Gt.call(e)):Mt(e)&&$t.test(e))}function E(e,t){var n=null==e?void 0:e[t];return Qt(n)?n:void 0}function U(e){return function(t){return null==t?void 0:t[e]}}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Zt}function H(e){return null!=e&&en(Yt(e))}function F(e){return Mt(e)&&tn(e)&&rn.call(e,"callee")&&!on.call(e,"callee")}function L(e,t){return e="number"==typeof e||dn.test(e)?+e:-1,t=null==t?yn:t,e>-1&&e%1==0&&e<t}function R(e){if(null==e)return[];Tt(e)||(e=Object(e));var t=e.length;t=t&&en(t)&&(pn(e)||an(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&vn(c,t)||"constructor"==c&&(o||!hn.call(e,c))||i.push(c);return i}function N(e){for(var t=bn(e),n=t.length,r=n&&e.length,o=!!r&&en(r)&&(pn(e)||an(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&vn(c,r)||jn.call(e,c))&&a.push(c)}return a}function k(e,t){return Rt(e,t,xn)}function _(e){return e}function B(e,t,n){if("function"!=typeof e)return Pn;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function M(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=In(n,r,3)),e(t,n)}}function $(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=In(n,r,3)),e(t,n,bn)}}function q(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function G(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function z(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function V(e,t){return null==t?e:Ln(t,xn(t),e)}function Q(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&kn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function X(e){var t=new Bn(e.byteLength),n=new Mn(t);return n.set(new Mn(e)),t}function J(e,t,n){var r=e.constructor;switch(t){case Xn:return $n(e);case qn:case Gn:return new r(+e);case Jn:case Wn:case Yn:case Zn:case er:case tr:case nr:case rr:case or:var o=e.buffer;return new r(n?$n(o):o,e.byteOffset,e.length);case zn:case Qn:return new r(e);case Vn:var i=new r(e.source,ir.exec(e));i.lastIndex=e.lastIndex}return i}function W(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function Y(e,t,n,r,o,i,a){var c;if(n&&(c=o?n(e,r,o):n(e)),void 0!==c)return c;if(!Tt(e))return e;var u=pn(e);if(u){if(c=_n(e),!t)return Hn(e,c)}else{var s=Tr.call(e),f=s==dr;if(s!=gr&&s!=ur&&(!f||o))return Er[s]?ar(e,s,t):o?e:{};if(c=cr(f?{}:e),!t)return Rn(c,e)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==e)return a[l];return i.push(e),a.push(c),(u?Fn:Sn)(e,function(r,o){c[o]=Y(r,t,n,o,e,i,a)}),c}function Z(e,t,n){return"function"==typeof t?Hr(e,!0,In(t,n,3)):Hr(e,!0)}function ee(e){return void 0===e}function te(e,t){void 0===t&&(t={});var n=t.id,r=t.typeId,o=t.alias,i=t.typeAlias,a=t.preview,c=t.at,u=t.offset,s=t.size,f=t.locale,l={};n&&Array.isArray(n)&&(l.id=n.join(",")),o&&Array.isArray(o)&&(l.alias=o.join(",")),r&&Array.isArray(r)&&(l.typeId=r.join(",")),a&&(l.preview=!0),"string"==typeof c?l.at=c:c&&c.toISOString&&(l.at=c.toISOString());var p=no.stringify(Object.assign({},l,{typeAlias:i,offset:u,size:s,locale:f}));return e+"?"+p}function ne(e,t){var n=this,r=te(e,t);return this.withSessionHandling(function(){return mo(r,n.props.config)})}function re(e,t){var n=this,r={eventType:e};return void 0!==t&&(r.retentionTime=t),this.withSessionHandling(function(){return Ao("/event/log",n.props.config,r)})}function oe(e){var t=this;return this.withSessionHandling(function(){return mo(e,t.props.config)})}function ie(e,t){var n=this;return this.withSessionHandling(function(){return Ao("/application/log/"+e,n.props.config,t)})}function ae(e){var t=this;return this.withSessionHandling(function(){return Ao("/application/logs",t.props.config,e)})}function ce(e){var t=this;return this.withSessionHandling(function(){return mo(e,t.props.config)})}function ue(e){var t=this;return this.withSessionHandling(function(){return mo(e,t.props.config)})}function se(e,t){var n=this;return this.withSessionHandling(function(){return Ao(e,n.props.config,t)})}function fe(e,t){return ue.call(this,"/"+e+"/"+t)}function le(e,t,n){return ue.call(this,"/"+e+"/"+t+"/"+n+"?json=true")}function pe(e,t,n){return se.call(this,"/"+e+"/"+t,n)}function de(e,t,n,r){return se.call(this,"/"+e+"/"+t+"/"+n,r)}var ye,ve="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge=ve.crypto||ve.msCrypto;if(ge&&ge.getRandomValues){var he=new Uint8Array(16);ye=function(){return ge.getRandomValues(he),he}}if(!ye){var be=new Array(16);ye=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),be[t]=e>>>((3&t)<<3)&255;return be}}for(var me=ye,je=[],Ae=0;Ae<256;++Ae)je[Ae]=(Ae+256).toString(16).substr(1);var Oe=n,we=me(),xe=[1|we[0],we[1],we[2],we[3],we[4],we[5]],Se=16383&(we[6]<<8|we[7]),Pe=0,Ie=0,Ke=r,Ce=o,De=Ce;De.v1=Ke,De.v4=Ce;var Ee=De,Ue=i,Te=a,He=c,Fe=u,Le=Fe(),Re=Le,Ne="[object Function]",ke=Object.prototype,_e=ke.toString,Be=s,Me=f,$e=/^\[object .+?Constructor\]$/,qe=Object.prototype,Ge=Function.prototype.toString,ze=qe.hasOwnProperty,Ve=RegExp("^"+Ge.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=l,Xe=p,Je=d,We=Je("length"),Ye=We,Ze=9007199254740991,et=y,tt=v,nt=Object.prototype,rt=nt.hasOwnProperty,ot=nt.propertyIsEnumerable,it=g,at="[object Array]",ct=Object.prototype,ut=ct.toString,st=Xe(Array,"isArray"),ft=st||function(e){return Me(e)&&et(e.length)&&ut.call(e)==at},lt=ft,pt=/^\d+$/,dt=9007199254740991,yt=h,vt=Object.prototype,gt=vt.hasOwnProperty,ht=b,bt=Object.prototype,mt=bt.hasOwnProperty,jt=m,At=Xe(Object,"keys"),Ot=At?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&tt(e)?jt(e):Te(e)?At(e):[]}:jt,wt=Ot,xt=j,St=A,Pt=St(xt),It=Pt,Kt=O,Ct=w,Dt=x,Et=Dt(Ue,It),Ut=Et,Tt=S,Ht=P,Ft=I,Lt=Ft(),Rt=Lt,Nt="[object Function]",kt=Object.prototype,_t=kt.toString,Bt=K,Mt=C,$t=/^\[object .+?Constructor\]$/,qt=Object.prototype,Gt=Function.prototype.toString,zt=qt.hasOwnProperty,Vt=RegExp("^"+Gt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=D,Xt=E,Jt=U,Wt=Jt("length"),Yt=Wt,Zt=9007199254740991,en=T,tn=H,nn=Object.prototype,rn=nn.hasOwnProperty,on=nn.propertyIsEnumerable,an=F,cn="[object Array]",un=Object.prototype,sn=un.toString,fn=Xt(Array,"isArray"),ln=fn||function(e){return Mt(e)&&en(e.length)&&sn.call(e)==cn},pn=ln,dn=/^\d+$/,yn=9007199254740991,vn=L,gn=Object.prototype,hn=gn.hasOwnProperty,bn=R,mn=Object.prototype,jn=mn.hasOwnProperty,An=N,On=Xt(Object,"keys"),wn=On?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&tn(e)?An(e):Tt(e)?On(e):[]}:An,xn=wn,Sn=k,Pn=_,In=B,Kn=M,Cn=Kn(Sn),Dn=Cn,En=$,Un=En(Rt),Tn=Un,Hn=q,Fn=G,Ln=z,Rn=V,Nn=Object.prototype,kn=Nn.hasOwnProperty,_n=Q,Bn=ve.ArrayBuffer,Mn=ve.Uint8Array,$n=X,qn="[object Boolean]",Gn="[object Date]",zn="[object Number]",Vn="[object RegExp]",Qn="[object String]",Xn="[object ArrayBuffer]",Jn="[object Float32Array]",Wn="[object Float64Array]",Yn="[object Int8Array]",Zn="[object Int16Array]",er="[object Int32Array]",tr="[object Uint8Array]",nr="[object Uint8ClampedArray]",rr="[object Uint16Array]",or="[object Uint32Array]",ir=/\w*$/,ar=J,cr=W,ur="[object Arguments]",sr="[object Array]",fr="[object Boolean]",lr="[object Date]",pr="[object Error]",dr="[object Function]",yr="[object Map]",vr="[object Number]",gr="[object Object]",hr="[object RegExp]",br="[object Set]",mr="[object String]",jr="[object WeakMap]",Ar="[object ArrayBuffer]",Or="[object Float32Array]",wr="[object Float64Array]",xr="[object Int8Array]",Sr="[object Int16Array]",Pr="[object Int32Array]",Ir="[object Uint8Array]",Kr="[object Uint8ClampedArray]",Cr="[object Uint16Array]",Dr="[object Uint32Array]",Er={};Er[ur]=Er[sr]=Er[Ar]=Er[fr]=Er[lr]=Er[Or]=Er[wr]=Er[xr]=Er[Sr]=Er[Pr]=Er[vr]=Er[gr]=Er[hr]=Er[mr]=Er[Ir]=Er[Kr]=Er[Cr]=Er[Dr]=!0,Er[pr]=Er[dr]=Er[yr]=Er[br]=Er[jr]=!1;var Ur=Object.prototype,Tr=Ur.toString,Hr=Y,Fr=Z,Lr=ee,Rr=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.deep&&!e._innerMixer&&(e._innerMixer=!0,e._innerMixer=r(e)),function(t){function n(n,r){var o=t[r];if(!e.filter||e.filter(n,o,r)){var i=e.deep?e._innerMixer(o,n):n;t[r]=e.transform?e.transform(i,o,r):i}}for(var r=arguments,s=arguments.length,f=Array(s>1?s-1:0),l=1;l<s;l++)f[l-1]=r[l];if((0,u.default)(t)||!e.noOverwrite&&!(0,c.default)(t))return f.length>1?e._innerMixer.apply(e,[{}].concat(f)):(0,a.default)(f[0]);if(e.noOverwrite&&(!(0,c.default)(t)||!(0,c.default)(f[0])))return t;var p=e.chain?i.default:o.default;return f.forEach(function(e){p(e,n)}),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(Dn),i=n(Tn),a=n(Fr),c=n(Tt),u=n(Lr);e.exports=t.default}),Nr=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(Rr),o=function(e){return"function"==typeof e},i=function(e){return!o(e)},a=(0,r.default)(),c=(0,r.default)({filter:o}),u=(0,r.default)({filter:o,chain:!0}),s=(0,r.default)({deep:!0}),f=(0,r.default)({deep:!0,noOverwrite:!0}),l=(0,r.default)({filter:i,deep:!0,chain:!0});t.default=r.default,t.mixin=a,t.mixinFunctions=c,t.mixinChainFunctions=u,t.merge=s,t.mergeUnique=f,t.mergeChainNonFunctions=l}),kr=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e&&(0,h.default)(e.then)}function o(){for(var e=arguments,t=[],n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,h.default)(r[0])?(0,g.default)(r,function(e){(0,h.default)(e)&&t.push(e)}):(0,b.default)(r[0])&&(0,g.default)(r,function(e){(0,g.default)(e,function(e){(0,h.default)(e)&&t.push(e)})}),t}function i(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Nr.mixinFunctions.apply(void 0,[e.methods].concat(r))}function a(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return e.refs=e.state=Nr.mixin.apply(void 0,[e.refs].concat(r)),e.refs}function c(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=t[i];var a=o.apply(void 0,r);return e.init=e.enclose=e.init.concat(a),e.init}function u(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Nr.merge.apply(void 0,[e.props].concat(r))}function s(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Nr.mixin.apply(void 0,[e.static].concat(r))}function f(e,t){for(var n=arguments,r=j(e),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=n[a];return t.apply(void 0,[r.fixed].concat(i)),r}function l(){for(var e=arguments,t=j(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,g.default)(r,function(e){e&&e.fixed&&(i(t.fixed,e.fixed.methods),a(t.fixed,e.fixed.refs||e.fixed.state),c(t.fixed,e.fixed.init||e.fixed.enclose),u(t.fixed,e.fixed.props),s(t.fixed,e.fixed.static))}),(0,Nr.mixin)(t,t.fixed.static)}function p(e){return(0,h.default)(e)&&(0,h.default)(e.methods)&&((0,h.default)(e.refs)||(0,h.default)(e.state))&&((0,h.default)(e.init)||(0,h.default)(e.enclose))&&(0,h.default)(e.props)&&(0,h.default)(e.static)&&(0,b.default)(e.fixed)}function d(e){var t=j();return t.fixed.refs=t.fixed.state=(0,Nr.mergeChainNonFunctions)(t.fixed.refs,e.prototype),(0,Nr.mixin)(t,(0,Nr.mixin)(t.fixed.static,e)),(0,Nr.mixinChainFunctions)(t.fixed.methods,e.prototype),c(t.fixed,function(t){var n=t.instance,r=t.args;return e.apply(n,r)}),t}function y(e){for(var t=arguments,n=j(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=t[i];return e.apply(void 0,[n.fixed].concat(o)),n}function v(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),Nr.mixin.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(Ut),h=n(Be),b=n(Te),m=Object.create,j=function(e){var t={methods:{},refs:{},init:[],props:{},static:{}};t.state=t.refs,t.enclose=t.init,e&&(i(t,e.methods),a(t,e.refs),c(t,e.init),u(t,e.props),s(t,e.static));var n=function(e){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=o[c];var u=(0,Nr.mixin)(m(t.methods),t.refs,e);(0,Nr.mergeUnique)(u,t.props);var s=null;return t.init.length>0&&(0,g.default)(t.init,function(e){if((0,h.default)(e))if(s)s=s.then(function(t){u=t||u;var o=e.call(u,{args:a,instance:u,stamp:n});return o?r(o)?o:u=o:u});else{var t=e.call(u,{args:a,instance:u,stamp:n});if(!t)return;if(!r(t))return void(u=t);s=t}}),s?s.then(function(e){return e||u}):u},o=f.bind(null,t,a),p=f.bind(null,t,c);return(0,Nr.mixin)(n,{create:n,fixed:t,methods:f.bind(null,t,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,t,u),static:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];var i=f.apply(void 0,[n.fixed,s].concat(r));return(0,Nr.mixin)(i,i.fixed.static)},compose:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];return l.apply(void 0,[n].concat(r))}},t.static)};t.default=(0,Nr.mixin)(j,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,c),props:y.bind(null,u),static:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];var o=y.apply(void 0,[s].concat(n));return(0,Nr.mixin)(o,o.fixed.static)},compose:l,mixin:v,extend:v,mixIn:v,assign:v,isStamp:p,convertConstructor:d}),e.exports=t.default}),_r=e(kr),Br=t(function(e,t){var n=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)"undefined"!=typeof t[o]&&r.push(t[o]);n.obj[n.prop]=r}}return t};t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},t.merge=function(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=t.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t.merge(e[i],r,o):e.push(r):e[i]=r}),e):Object.keys(r).reduce(function(e,i){var a=r[i];return n.call(e,i)?e[i]=t.merge(e[i],a,o):e[i]=a,e},i)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],c=Object.keys(a),u=0;u<c.length;++u){var s=c[u],f=a[s];"object"==typeof f&&null!==f&&n.indexOf(f)===-1&&(t.push({obj:a,prop:s}),n.push(f))}return o(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),Mr=String.prototype.replace,$r=/%20/g,qr={default:"RFC3986",formatters:{RFC1738:function(e){return Mr.call(e,$r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Gr={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},zr=Date.prototype.toISOString,Vr={delimiter:"&",encode:!0,encoder:Br.encode,encodeValuesOnly:!1,serializeDate:function(e){return zr.call(e)},skipNulls:!1,strictNullHandling:!1},Qr=function e(t,n,r,o,i,a,c,u,s,f,l,p){var d=t;if("function"==typeof c)d=c(n,d);else if(d instanceof Date)d=f(d);else if(null===d){if(o)return a&&!p?a(n,Vr.encoder):n;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||Br.isBuffer(d)){if(a){var y=p?n:a(n,Vr.encoder);return[l(y)+"="+l(a(d,Vr.encoder))]}return[l(n)+"="+l(String(d))]}var v=[];if("undefined"==typeof d)return v;var g;if(Array.isArray(c))g=c;else{var h=Object.keys(d);g=u?h.sort(u):h}for(var b=0;b<g.length;++b){var m=g[b];i&&null===d[m]||(v=Array.isArray(d)?v.concat(e(d[m],r(n,m),r,o,i,a,c,u,s,f,l,p)):v.concat(e(d[m],n+(s?"."+m:"["+m+"]"),r,o,i,a,c,u,s,f,l,p)))}return v},Xr=function(e,t){var n=e,r=t?Br.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o="undefined"==typeof r.delimiter?Vr.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Vr.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:Vr.skipNulls,c="boolean"==typeof r.encode?r.encode:Vr.encode,u="function"==typeof r.encoder?r.encoder:Vr.encoder,s="function"==typeof r.sort?r.sort:null,f="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:Vr.serializeDate,p="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:Vr.encodeValuesOnly;if("undefined"==typeof r.format)r.format=qr.default;else if(!Object.prototype.hasOwnProperty.call(qr.formatters,r.format))throw new TypeError("Unknown format option provided.");var d,y,v=qr.formatters[r.format];"function"==typeof r.filter?(y=r.filter,n=y("",n)):Array.isArray(r.filter)&&(y=r.filter,d=y);var g=[];if("object"!=typeof n||null===n)return"";var h;h=r.arrayFormat in Gr?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var b=Gr[h];d||(d=Object.keys(n)),s&&d.sort(s);for(var m=0;m<d.length;++m){var j=d[m];a&&null===n[j]||(g=g.concat(Qr(n[j],j,b,i,a,c?u:null,y,s,f,l,v,p)))}var A=g.join(o),O=r.addQueryPrefix===!0?"?":"";return A.length>0?O+A:""},Jr=Object.prototype.hasOwnProperty,Wr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Br.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Yr=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=0;a<i.length;++a){var c,u,s=i[a],f=s.indexOf("]="),l=f===-1?s.indexOf("="):f+1;l===-1?(c=t.decoder(s,Wr.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(s.slice(0,l),Wr.decoder),u=t.decoder(s.slice(l+1),Wr.decoder)),Jr.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}return n},Zr=function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=[],i=i.concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(i=[],i[u]=r):i[c]=r}r=i}return r},eo=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=o.exec(r),c=a?r.slice(0,a.index):r,u=[];if(c){if(!n.plainObjects&&Jr.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var s=0;null!==(a=i.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&Jr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),Zr(u,t,n)}},to=function(e,t){var n=t?Br.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=n.ignoreQueryPrefix===!0,n.delimiter="string"==typeof n.delimiter||Br.isRegExp(n.delimiter)?n.delimiter:Wr.delimiter,n.depth="number"==typeof n.depth?n.depth:Wr.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:Wr.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:Wr.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:Wr.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:Wr.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:Wr.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:Wr.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Wr.strictNullHandling,""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?Yr(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var c=i[a],u=eo(c,r[c],n);o=Br.merge(o,u,n)}return Br.compact(o)},no={formats:qr,parse:to,stringify:Xr},ro="function"==typeof fetch?fetch:function(e,t){return t=t||{},new Promise(function(n,r){function o(){var e,t=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){t.push(i=i.toLowerCase()),n.push([i,a]),e=r[i],r[i]=e?e+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}var i=new XMLHttpRequest;i.open(t.method||"get",e);for(var a in t.headers)i.setRequestHeader(a,t.headers[a]);i.withCredentials="include"==t.credentials,i.onload=function(){n(o())},i.onerror=r,i.send(t.body)})},oo=Object.freeze({default:ro}),io=oo&&ro||oo,ao=window.fetch=io,co="application/json",uo="https://appgrid-api.cloud.accedo.tv",so="same-origin",fo={accept:co},lo=function(e){var t=e.ip;return t?{"X-FORWARDED-FOR":t}:{}},po=function(e){var t=e.sessionKey;return t?{"X-SESSION":t}:{}},yo=function(){return{"Content-Type":co}},vo=function(e,t){void 0===t&&(t={});var n=e.sessionKey?{}:{appKey:e.appKey,uuid:e.deviceId};e.gid&&(n.gid=e.gid);var r=Object.assign({},t,n),o=no.stringify(r);return o},go=function(e,t){var n=t.target;void 0===n&&(n=uo);var r=e.split("?"),o=r[0],i=no.parse(r[1]),a=vo(t,i);return""+n+o+"?"+a},ho=function(e){return Object.assign({},lo(e),po(e))},bo=function(e,t){var n=Object.assign({},fo,ho(t)),r=go(e,t);return t.log("Sending a GET request to: "+r+" with the following headers",n),ao(r,{credentials:so,headers:n}).then(function(e){if(e.status>=400)throw t.log("GET failed with status",e.status),e;return e})},mo=function(e,t){return t.log("Requesting",e),bo(e,t).then(function(e){return e.json()}).then(function(e){return t.log("GET response",e),e})},jo=function(e,t){return bo(e,t).then(function(e){return e.body})},Ao=function(e,t,n){void 0===n&&(n={});var r=Object.assign({},fo,yo(),ho(t)),o=go(e,t);t.log("Sending a POST request to: "+o+". With the following headers and body: ",r,n);var i={headers:r,credentials:so,method:"post",body:JSON.stringify(n)};return ao(o,i).then(function(e){var n=e.status,r=e.statusText;if(200!==n)throw new Error("AppGrid POST request returned a non-200 response. Status Code: "+n+". Status Text: "+r);var o={status:n,statusText:r};return t.log("POST response: ",{status:n,statusText:r}),o})},Oo=_r().init(function(e){var t,n=e.instance;n.createSession=function(){var e=this;return t?t:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),t=mo("/session",this.props.config).then(function(n){var r=n.sessionKey;return e.props.config.sessionKey=r,t=null,r}).catch(function(e){throw t=null,e}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(e){var t=this;return this.getSessionKey()?e().catch(function(n){if(n&&401===n.status)return t.createSession().then(e);throw n}):this.createSession().then(e)}}),wo=_r().methods({getEntries:function(e){return ne.call(this,"/content/entries",e)},getEntryById:function(e,t){return ne.call(this,"/content/entry/"+e,t)},getEntryByAlias:function(e,t){return ne.call(this,"/content/entry/alias/"+e,t)}}).compose(Oo),xo=_r().methods({getApplicationStatus:function(){var e=this;return this.withSessionHandling(function(){return mo("/status",e.props.config)})}}).compose(Oo),So=_r().methods({getAllAssets:function(){var e=this;return this.withSessionHandling(function(){return mo("/asset",e.props.config)})},getAssetById:function(e){return jo("/asset/file/"+e,this.props.config)}}).compose(Oo),Po=_r().methods({sendUsageStartEvent:function(){return re.call(this,"START")},sendUsageStopEvent:function(e){return re.call(this,"QUIT",e)}}).compose(Oo),Io="debug",Ko="info",Co="warn",Do="error",Eo=[Io,Ko,Co,Do],Uo=function(e,t){return void 0===e&&(e="0"),void 0===t&&(t="0"),parseInt(""+e+t,10)},To=function(e,t){return t?JSON.stringify([e,t]):e},Ho=function(e,t){void 0===e&&(e={});var n=To(e.message,t),r=Uo(e.facilityCode,e.errorCode);return{code:r,message:n,dim1:e.dim1,dim2:e.dim2,dim3:e.dim3,dim4:e.dim4}},Fo=_r().methods({getLogLevel:function(){return oe.call(this,"/application/log/level").then(function(e){return e.logLevel})},sendLog:function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!Eo.includes(e))return Promise.reject("Unsupported log level");var o=n.length?1===n.length?n[0]:n:void 0,i=Ho(t,o);return ie.call(this,e,i)},sendLogs:function(e){var t=e.map(function(e){var t=e.logType,n=e.timestamp;return Object.assign(Ho(e,e.metadata),{logType:t,timestamp:n})});return ae.call(this,t)}}).compose(Oo),Lo=_r().methods({getAllEnabledPlugins:function(){var e=this;return this.withSessionHandling(function(){return mo("/plugins",e.props.config)})}}).compose(Oo),Ro=_r().methods({getProfileInfo:function(){var e=this;return this.withSessionHandling(function(){return mo("/profile",e.props.config)})}}).compose(Oo),No=_r().methods({getAllMetadata:function(){return ce.call(this,"/metadata")},getMetadataByKey:function(e){return ce.call(this,"/metadata/"+e)},getMetadataByKeys:function(e){return ce.call(this,"/metadata/"+e.join(","))}}).compose(Oo),ko="user",_o="group",Bo=_r().methods({getAllApplicationScopeDataByUser:function(e){return fe.call(this,ko,e)},getAllApplicationGroupScopeDataByUser:function(e){return fe.call(this,_o,e)},getApplicationScopeDataByUserAndKey:function(e,t){return le.call(this,ko,e,t)},getApplicationGroupScopeDataByUserAndKey:function(e,t){return le.call(this,_o,e,t)},setApplicationScopeUserData:function(e,t){return pe.call(this,ko,e,t)},setApplicationGroupScopeUserData:function(e,t){return pe.call(this,_o,e,t)},setApplicationScopeUserDataByKey:function(e,t,n){return de.call(this,ko,e,t,n)},setApplicationGroupScopeUserDataByKey:function(e,t,n){return de.call(this,_o,e,t,n)}}).compose(Oo),Mo=_r().methods({getAvailableLocales:function(){var e=this;return this.withSessionHandling(function(){return mo("/locales",e.props.config)})}}).compose(Oo),$o=_r().compose(Oo,wo,xo,So,Po,Fo,Lo,Ro,No,Bo,Mo),qo=function(){},Go=!1,zo=!1;try{Go="undefined"!=typeof localStorage,zo="undefined"!=typeof sessionStorage}catch(e){}var Vo=Go||zo,Qo=function(e){void 0===e&&(e={});var t=e.appKey,n=e.deviceId,r=e.sessionKey;return t&&!n&&!r||t&&n&&!r||t&&n&&r},Xo=function(e){var t=e.gid,n=e.appKey,r=e.ip,o=e.target,i=e.log;void 0===i&&(i=qo);var a=e.onDeviceIdGenerated;void 0===a&&(a=qo);var c=e.onSessionKeyChanged;void 0===c&&(c=qo);var u=e.deviceId,s=e.sessionKey;if(u||(s=null),!Qo({appKey:n,deviceId:u,sessionKey:s}))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");u||(u=Ee.v4(),a(u));var f={deviceId:u,gid:t,ip:r,appKey:n,target:o,
log:i,onSessionKeyChanged:c};return Object.defineProperty(f,"sessionKey",{set:function(e){s=e,c(e)},get:function(){return s}}),$o({props:{config:f}})},Jo="ag_d",Wo="ag_s",Yo=function(){try{var e=localStorage[Jo],t=zo?sessionStorage[Wo]:void 0;return{deviceId:e,sessionKey:t}}catch(e){return{}}},Zo=function(e){if(Go)try{localStorage[Jo]=e}catch(e){}},ei=function(e){if(zo)try{sessionStorage[Wo]=e}catch(e){}},ti=function(e){if(!Vo)return Xo(e);var t=e.browserInfoProvider;void 0===t&&(t=Yo);var n=e.onDeviceIdGenerated;void 0===n&&(n=Zo);var r=e.onSessionKeyChanged;void 0===r&&(r=ei);var o=e.deviceId,i=e.sessionKey;if((!o||!i)&&t){var a=t();o=o||a.deviceId,i=i||a.sessionKey}return Xo(Object.assign({},e,{deviceId:o,sessionKey:i,onDeviceIdGenerated:n,onSessionKeyChanged:r}))},ni=Vo?ti:Xo;return ni});
