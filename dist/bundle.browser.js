!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.appgrid=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function r(t,e){var r=e||0,n=rt;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}function n(t,e,r){var n=e&&r||0,o=e||[];t=t||{};var i=void 0!==t.clockseq?t.clockseq:ct,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:lt+1,u=a-ft+(s-lt)/1e4;if(u<0&&void 0===t.clockseq&&(i=i+1&16383),(u<0||a>ft)&&void 0===t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ft=a,lt=s,ct=i,a+=122192928e5;var c=(1e4*(268435455&a)+s)%4294967296;o[n++]=c>>>24&255,o[n++]=c>>>16&255,o[n++]=c>>>8&255,o[n++]=255&c;var f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=255&f,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=255&i;for(var l=t.node||ut,p=0;p<6;++p)o[n+p]=l[p];return e?e:at(o)}function o(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||dt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[n+i]=o[i];return e||yt(o)}function i(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return At(t)?t:Object(t)}function u(t){return function(e,r,n){for(var o=Ot(e),i=n(e),a=i.length,s=t?a:-1;t?s--:++s<a;){var u=i[s];if(r(o[u],u,o)===!1)break}return e}}function c(t){return _t(t)&&It.call(t)==Pt}function f(t){return!!t&&"object"==typeof t}function l(t){return null!=t&&(Rt(t)?kt.test(Lt.call(t)):Ct(t)&&Ht.test(t))}function p(t,e){var r=null==t?void 0:t[e];return qt(r)?r:void 0}function d(t){return function(e){return null==e?void 0:e[t]}}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Jt}function h(t){return null!=t&&Yt(Qt(t))}function v(t){return ee(t)&&te(t)&&ne.call(t,"callee")&&!oe.call(t,"callee")}function g(t,e){return t="number"==typeof t||he.test(t)?+t:-1,e=null==e?ve:e,t>-1&&t%1==0&&t<e}function b(t){if(null==t)return[];Ae(t)||(t=Object(t));var e=t.length;e=e&&je(e)&&(me(t)||be(t))&&e||0;for(var r=t.constructor,n=-1,o="function"==typeof r&&r.prototype===t,i=Array(e),a=e>0;++n<e;)i[n]=n+"";for(var s in t)a&&we(s,e)||"constructor"==s&&(o||!Oe.call(t,s))||i.push(s);return i}function m(t){for(var e=Pe(t),r=e.length,n=r&&t.length,o=!!n&&_e(n)&&(Be(t)||Ee(t)),i=-1,a=[];++i<r;){var s=e[i];(o&&Te(s,n)||Ie.call(t,s))&&a.push(s)}return a}function w(t,e){return ke(t,e,Me)}function j(t,e){return function(r,n){var o=r?Ge(r):0;if(!$e(o))return t(r,n);for(var i=e?o:-1,a=ze(r);(e?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}function A(t){return t}function x(t,e,r){if("function"!=typeof t)return Ze;if(void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)};case 5:return function(r,n,o,i,a){return t.call(e,r,n,o,i,a)}}return function(){return t.apply(e,arguments)}}function O(t,e){return function(r,n,o){return"function"==typeof n&&void 0===o&&rr(r)?t(r,n):e(r,er(n,o,3))}}function S(t){return function(e,r,n){return"function"==typeof r&&void 0===n||(r=cr(r,n,3)),t(e,r)}}function E(t){return function(e,r,n){return"function"==typeof r&&void 0===n||(r=hr(r,n,3)),t(e,r,vr)}}function B(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function T(t,e,r){r||(r={});for(var n=-1,o=e.length;++n<o;){var i=e[n];r[i]=t[i]}return r}function _(t,e){return null==e?t:Or(e,Sr(e),t)}function P(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Tr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function U(t){var e=new Pr(t.byteLength),r=new Ur(e);return r.set(new Ur(t)),e}function I(t,e,r){var n=t.constructor;switch(e){case Lr:return Dr(t);case Fr:case Rr:return new n(+t);case Nr:case kr:case Mr:case qr:case Gr:case $r:case zr:case Vr:case Xr:var o=t.buffer;return new n(r?Dr(o):o,t.byteOffset,t.length);case Cr:case Kr:return new n(t);case Hr:var i=new n(t.source,Jr.exec(t));i.lastIndex=t.lastIndex}return i}function D(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function F(t,e,r,n,o,i,a){var s;if(r&&(s=o?r(t,n,o):r(t)),void 0!==s)return s;if(!sn(t))return t;var u=an(t);if(u){if(s=rn(t),!e)return Yr(t,s)}else{var c=Dn.call(t),f=c==dn;if(c!=vn&&c!=un&&(!f||o))return Un[c]?nn(t,c,e):o?t:{};if(s=on(f?{}:t),!e)return tn(s,t)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==t)return a[l];return i.push(t),a.push(s),(u?Zr:en)(t,function(n,o){s[o]=F(n,e,r,o,t,i,a)}),s}function R(t,e,r){return"function"==typeof e?Rn(t,!0,Cn(e,r,3)):Rn(t,!0)}function C(t){return void 0===t}function H(t,e){void 0===e&&(e={});var r=e.id,n=e.typeId,o=e.alias,i=e.typeAlias,a=e.preview,s=e.at,u=e.offset,c=e.size,f={};r&&r.length&&(f.id=r.join(",")),o&&o.length&&(f.alias=o.join(",")),n&&n.length&&(f.typeId="string"==typeof n?n:n.join(",")),a&&(f.preview=!0),"string"==typeof s?f.at=s:s&&s.toISOString&&(f.at=s.toISOString());var l=fo.stringify(Object.assign({},f,{typeAlias:i,offset:u,size:c}));return t+"?"+l}function K(t,e){var r=this,n=H(t,e);return this.withSessionHandling(function(){return Oo(n,r.props.config)})}function L(t,e){var r=this,n={eventType:t};return void 0!==e&&(n.retentionTime=e),this.withSessionHandling(function(){return Eo("/event/log",r.props.config,n)})}function N(t){var e=this;return this.withSessionHandling(function(){return Oo(t,e.props.config)})}function k(t,e){var r=this;return this.withSessionHandling(function(){return Eo("/application/log/"+t,r.props.config,e)})}function M(t){var e=this;return this.withSessionHandling(function(){return Eo("/application/logs",e.props.config,t)})}function q(t){var e=this;return this.withSessionHandling(function(){return Oo(t,e.props.config)})}function G(t){var e=this;return this.withSessionHandling(function(){return Oo(t,e.props.config)})}function $(t,e){var r=this;return this.withSessionHandling(function(){return Eo(t,r.props.config,e)})}function z(t,e){return G.call(this,"/"+t+"/"+e)}function V(t,e,r){return G.call(this,"/"+t+"/"+e+"/"+r+"?json=true")}function X(t,e,r){return $.call(this,"/"+t+"/"+e,r)}function J(t,e,r,n){return $.call(this,"/"+t+"/"+e+"/"+r,n)}var W,Q="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y=Q.crypto||Q.msCrypto;if(Y&&Y.getRandomValues){var Z=new Uint8Array(16);W=function(){return Y.getRandomValues(Z),Z}}if(!W){var tt=new Array(16);W=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),tt[e]=t>>>((3&e)<<3)&255;return tt}}for(var et=W,rt=[],nt=0;nt<256;++nt)rt[nt]=(nt+256).toString(16).substr(1);var ot=r,it=et,at=ot,st=it(),ut=[1|st[0],st[1],st[2],st[3],st[4],st[5]],ct=16383&(st[6]<<8|st[7]),ft=0,lt=0,pt=n,dt=et,yt=ot,ht=o,vt=pt,gt=ht,bt=gt;bt.v1=vt,bt.v4=gt;var mt=bt,wt=i,jt=a,At=jt,xt=s,Ot=xt,St=u,Et=St,Bt=Et(),Tt=Bt,_t=jt,Pt="[object Function]",Ut=Object.prototype,It=Ut.toString,Dt=c,Ft=f,Rt=Dt,Ct=Ft,Ht=/^\[object .+?Constructor\]$/,Kt=Object.prototype,Lt=Function.prototype.toString,Nt=Kt.hasOwnProperty,kt=RegExp("^"+Lt.call(Nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=l,qt=Mt,Gt=p,$t=d,zt=$t,Vt=zt("length"),Xt=Vt,Jt=9007199254740991,Wt=y,Qt=Xt,Yt=Wt,Zt=h,te=Zt,ee=Ft,re=Object.prototype,ne=re.hasOwnProperty,oe=re.propertyIsEnumerable,ie=v,ae=Gt,se=Wt,ue=Ft,ce="[object Array]",fe=Object.prototype,le=fe.toString,pe=ae(Array,"isArray"),de=pe||function(t){return ue(t)&&se(t.length)&&le.call(t)==ce},ye=de,he=/^\d+$/,ve=9007199254740991,ge=g,be=ie,me=ye,we=ge,je=Wt,Ae=jt,xe=Object.prototype,Oe=xe.hasOwnProperty,Se=b,Ee=ie,Be=ye,Te=ge,_e=Wt,Pe=Se,Ue=Object.prototype,Ie=Ue.hasOwnProperty,De=m,Fe=Gt,Re=Zt,Ce=jt,He=De,Ke=Fe(Object,"keys"),Le=Ke?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Re(t)?He(t):Ce(t)?Ke(t):[]}:He,Ne=Le,ke=Tt,Me=Ne,qe=w,Ge=Xt,$e=Wt,ze=xt,Ve=j,Xe=qe,Je=Ve,We=Je(Xe),Qe=We,Ye=A,Ze=Ye,tr=x,er=tr,rr=ye,nr=O,or=wt,ir=Qe,ar=nr,sr=ar(or,ir),ur=sr,cr=tr,fr=S,lr=qe,pr=fr,dr=pr(lr),yr=dr,hr=tr,vr=Se,gr=E,br=Tt,mr=gr,wr=mr(br),jr=wr,Ar=B,xr=T,Or=xr,Sr=Ne,Er=_,Br=Object.prototype,Tr=Br.hasOwnProperty,_r=P,Pr=Q.ArrayBuffer,Ur=Q.Uint8Array,Ir=U,Dr=Ir,Fr="[object Boolean]",Rr="[object Date]",Cr="[object Number]",Hr="[object RegExp]",Kr="[object String]",Lr="[object ArrayBuffer]",Nr="[object Float32Array]",kr="[object Float64Array]",Mr="[object Int8Array]",qr="[object Int16Array]",Gr="[object Int32Array]",$r="[object Uint8Array]",zr="[object Uint8ClampedArray]",Vr="[object Uint16Array]",Xr="[object Uint32Array]",Jr=/\w*$/,Wr=I,Qr=D,Yr=Ar,Zr=wt,tn=Er,en=qe,rn=_r,nn=Wr,on=Qr,an=ye,sn=jt,un="[object Arguments]",cn="[object Array]",fn="[object Boolean]",ln="[object Date]",pn="[object Error]",dn="[object Function]",yn="[object Map]",hn="[object Number]",vn="[object Object]",gn="[object RegExp]",bn="[object Set]",mn="[object String]",wn="[object WeakMap]",jn="[object ArrayBuffer]",An="[object Float32Array]",xn="[object Float64Array]",On="[object Int8Array]",Sn="[object Int16Array]",En="[object Int32Array]",Bn="[object Uint8Array]",Tn="[object Uint8ClampedArray]",_n="[object Uint16Array]",Pn="[object Uint32Array]",Un={};Un[un]=Un[cn]=Un[jn]=Un[fn]=Un[ln]=Un[An]=Un[xn]=Un[On]=Un[Sn]=Un[En]=Un[hn]=Un[vn]=Un[gn]=Un[mn]=Un[Bn]=Un[Tn]=Un[_n]=Un[Pn]=!0,Un[pn]=Un[dn]=Un[yn]=Un[bn]=Un[wn]=!1;var In=Object.prototype,Dn=In.toString,Fn=F,Rn=Fn,Cn=tr,Hn=R,Kn=C,Ln=e(function(t,e){function r(t){return t&&t.__esModule?t:{default:t}}function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.deep&&!t._innerMixer&&(t._innerMixer=!0,t._innerMixer=n(t)),function(e){function r(r,n){var o=e[n];if(!t.filter||t.filter(r,o,n)){var i=t.deep?t._innerMixer(o,r):r;e[n]=t.transform?t.transform(i,o,n):i}}for(var n=arguments,o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=n[u];if((0,d.default)(e)||!t.noOverwrite&&!(0,l.default)(e))return a.length>1?t._innerMixer.apply(t,[{}].concat(a)):(0,c.default)(a[0]);if(t.noOverwrite&&(!(0,l.default)(e)||!(0,l.default)(a[0])))return e;var f=t.chain?s.default:i.default;return a.forEach(function(t){f(t,r)}),e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=yr,i=r(o),a=jr,s=r(a),u=Hn,c=r(u),f=jt,l=r(f),p=Kn,d=r(p);t.exports=e.default}),Nn=e(function(t,e){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Ln,o=r(n),i=function(t){return"function"==typeof t},a=function(t){return!i(t)},s=(0,o.default)(),u=(0,o.default)({filter:i}),c=(0,o.default)({filter:i,chain:!0}),f=(0,o.default)({deep:!0}),l=(0,o.default)({deep:!0,noOverwrite:!0}),p=(0,o.default)({filter:a,deep:!0,chain:!0});e.default=o.default,e.mixin=s,e.mixinFunctions=u,e.mixinChainFunctions=c,e.merge=f,e.mergeUnique=l,e.mergeChainNonFunctions=p}),kn=e(function(t,e){function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return t&&(0,m.default)(t.then)}function o(){for(var t=arguments,e=[],r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=t[o];return(0,m.default)(n[0])?(0,g.default)(n,function(t){(0,m.default)(t)&&e.push(t)}):(0,j.default)(n[0])&&(0,g.default)(n,function(t){(0,g.default)(t,function(t){(0,m.default)(t)&&e.push(t)})}),e}function i(t){for(var e=arguments,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=e[o];return A.mixinFunctions.apply(void 0,[t.methods].concat(n))}function a(t){for(var e=arguments,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=e[o];return t.refs=t.state=A.mixin.apply(void 0,[t.refs].concat(n)),t.refs}function s(t){for(var e=arguments,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=e[i];var a=o.apply(void 0,n);return t.init=t.enclose=t.init.concat(a),t.init}function u(t){for(var e=arguments,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=e[o];return A.merge.apply(void 0,[t.props].concat(n))}function c(t){for(var e=arguments,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=e[o];return A.mixin.apply(void 0,[t.static].concat(n))}function f(t,e){for(var r=arguments,n=O(t),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=r[a];return e.apply(void 0,[n.fixed].concat(i)),n}function l(){for(var t=arguments,e=O(),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=t[o];return(0,g.default)(n,function(t){t&&t.fixed&&(i(e.fixed,t.fixed.methods),a(e.fixed,t.fixed.refs||t.fixed.state),s(e.fixed,t.fixed.init||t.fixed.enclose),u(e.fixed,t.fixed.props),c(e.fixed,t.fixed.static))}),(0,A.mixin)(e,e.fixed.static)}function p(t){return(0,m.default)(t)&&(0,m.default)(t.methods)&&((0,m.default)(t.refs)||(0,m.default)(t.state))&&((0,m.default)(t.init)||(0,m.default)(t.enclose))&&(0,m.default)(t.props)&&(0,m.default)(t.static)&&(0,j.default)(t.fixed)}function d(t){var e=O();return e.fixed.refs=e.fixed.state=(0,A.mergeChainNonFunctions)(e.fixed.refs,t.prototype),(0,A.mixin)(e,(0,A.mixin)(e.fixed.static,t)),(0,A.mixinChainFunctions)(e.fixed.methods,t.prototype),s(e.fixed,function(e){var r=e.instance,n=e.args;return t.apply(r,n)}),e}function y(t){for(var e=arguments,r=O(),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=e[i];return t.apply(void 0,[r.fixed].concat(o)),r}function h(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),A.mixin.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var v=ur,g=r(v),b=Dt,m=r(b),w=jt,j=r(w),A=Nn,x=Object.create,O=function(t){var e={methods:{},refs:{},init:[],props:{},static:{}};e.state=e.refs,e.enclose=e.init,t&&(i(e,t.methods),a(e,t.refs),s(e,t.init),u(e,t.props),c(e,t.static));var r=function(t){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=o[s];var u=(0,A.mixin)(x(e.methods),e.refs,t);(0,A.mergeUnique)(u,e.props);var c=null;return e.init.length>0&&(0,g.default)(e.init,function(t){if((0,m.default)(t))if(c)c=c.then(function(e){u=e||u;var o=t.call(u,{args:a,instance:u,stamp:r});return o?n(o)?o:u=o:u});else{var e=t.call(u,{args:a,instance:u,stamp:r});if(!e)return;if(!n(e))return void(u=e);c=e}}),c?c.then(function(t){return t||u}):u},o=f.bind(null,e,a),p=f.bind(null,e,s);return(0,A.mixin)(r,{create:r,fixed:e,methods:f.bind(null,e,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,e,u),static:function(){for(var t=arguments,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=t[o];var i=f.apply(void 0,[r.fixed,c].concat(n));return(0,A.mixin)(i,i.fixed.static)},compose:function(){for(var t=arguments,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=t[o];return l.apply(void 0,[r].concat(n))}},e.static)};e.default=(0,A.mixin)(O,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,s),props:y.bind(null,u),static:function(){for(var t=arguments,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=t[n];var o=y.apply(void 0,[c].concat(r));return(0,A.mixin)(o,o.fixed.static)},compose:l,mixin:h,extend:h,mixIn:h,assign:h,isStamp:p,convertConstructor:d}),t.exports=e.default}),Mn=t(kn),qn=e(function(t,e){var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)"undefined"!=typeof t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];t[n]=!0}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,r){var i=n[r];return Object.prototype.hasOwnProperty.call(t,r)?t[r]=e.merge(t[r],i,o):t[r]=i,t},i)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=e.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},e.compact=function(t,r){if("object"!=typeof t||null===t)return t;var n=r||[],o=n.indexOf(t);if(o!==-1)return n[o];if(n.push(t),Array.isArray(t)){for(var i=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?i.push(e.compact(t[a],n)):"undefined"!=typeof t[a]&&i.push(t[a]);return i}var s=Object.keys(t);return s.forEach(function(r){t[r]=e.compact(t[r],n)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),Gn=String.prototype.replace,$n=/%20/g,zn={default:"RFC3986",formatters:{RFC1738:function(t){return Gn.call(t,$n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Vn=qn,Xn=zn,Jn={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Wn=Date.prototype.toISOString,Qn={delimiter:"&",encode:!0,encoder:Vn.encode,serializeDate:function(t){return Wn.call(t)},skipNulls:!1,strictNullHandling:!1},Yn=function t(e,r,n,o,i,a,s,u,c,f,l){var p=e;if("function"==typeof s)p=s(r,p);else if(p instanceof Date)p=f(p);else if(null===p){if(o)return a?a(r):r;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||Vn.isBuffer(p))return a?[l(a(r))+"="+l(a(p))]:[l(r)+"="+l(String(p))];var d=[];if("undefined"==typeof p)return d;var y;if(Array.isArray(s))y=s;else{var h=Object.keys(p);y=u?h.sort(u):h}for(var v=0;v<y.length;++v){var g=y[v];i&&null===p[g]||(d=Array.isArray(p)?d.concat(t(p[g],n(r,g),n,o,i,a,s,u,c,f,l)):d.concat(t(p[g],r+(c?"."+g:"["+g+"]"),n,o,i,a,s,u,c,f,l)))}return d},Zn=function(t,e){var r=t,n=e||{},o="undefined"==typeof n.delimiter?Qn.delimiter:n.delimiter,i="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Qn.strictNullHandling,a="boolean"==typeof n.skipNulls?n.skipNulls:Qn.skipNulls,s="boolean"==typeof n.encode?n.encode:Qn.encode,u=s?"function"==typeof n.encoder?n.encoder:Qn.encoder:null,c="function"==typeof n.sort?n.sort:null,f="undefined"!=typeof n.allowDots&&n.allowDots,l="function"==typeof n.serializeDate?n.serializeDate:Qn.serializeDate;if("undefined"==typeof n.format)n.format=Xn.default;else if(!Object.prototype.hasOwnProperty.call(Xn.formatters,n.format))throw new TypeError("Unknown format option provided.");var p,d,y=Xn.formatters[n.format];if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof n.filter?(d=n.filter,r=d("",r)):Array.isArray(n.filter)&&(d=n.filter,p=d);var h=[];if("object"!=typeof r||null===r)return"";var v;v=n.arrayFormat in Jn?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var g=Jn[v];p||(p=Object.keys(r)),c&&p.sort(c);for(var b=0;b<p.length;++b){var m=p[b];a&&null===r[m]||(h=h.concat(Yn(r[m],m,g,i,a,u,d,c,f,l,y)))}return h.join(o)},to=qn,eo=Object.prototype.hasOwnProperty,ro={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:to.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},no=function(t,e){for(var r={},n=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<n.length;++o){var i,a,s=n[o],u=s.indexOf("]=")===-1?s.indexOf("="):s.indexOf("]=")+1;u===-1?(i=e.decoder(s),a=e.strictNullHandling?null:""):(i=e.decoder(s.slice(0,u)),a=e.decoder(s.slice(u+1))),eo.call(r,i)?r[i]=[].concat(r[i]).concat(a):r[i]=a}return r},oo=function t(e,r,n){if(!e.length)return r;var o,i=e.shift();if("[]"===i)o=[],o=o.concat(t(e,r,n));else{o=n.plainObjects?Object.create(null):{};var a="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,s=parseInt(a,10);!isNaN(s)&&i!==a&&String(s)===a&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(o=[],o[s]=t(e,r,n)):o[a]=t(e,r,n)}return o},io=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,a=o.exec(n),s=[];if(a[1]){if(!r.plainObjects&&eo.call(Object.prototype,a[1])&&!r.allowPrototypes)return;s.push(a[1])}for(var u=0;null!==(a=i.exec(n))&&u<r.depth;)u+=1,(r.plainObjects||!eo.call(Object.prototype,a[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(a[1]);return a&&s.push("["+n.slice(a.index)+"]"),oo(s,e,r)}},ao=function(t,e){var r=e||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||to.isRegExp(r.delimiter)?r.delimiter:ro.delimiter,r.depth="number"==typeof r.depth?r.depth:ro.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:ro.arrayLimit,r.parseArrays=r.parseArrays!==!1,r.decoder="function"==typeof r.decoder?r.decoder:ro.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:ro.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:ro.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:ro.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:ro.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:ro.strictNullHandling,""===t||null===t||"undefined"==typeof t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?no(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var s=i[a],u=io(s,n[s],r);o=to.merge(o,u,r)}return to.compact(o)},so=Zn,uo=ao,co=zn,fo={formats:co,parse:uo,stringify:so};!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader,r=a(e);return e.readAsArrayBuffer(t),r}function u(t){var e=new FileReader,r=a(e);return e.readAsText(t),r}function c(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&m(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return j.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if("string"==typeof t)this.url=t;else{if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function h(t){var e=new o;return t.split("\r\n").forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&b.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];this.map[t]=o?o+","+n:n},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,n){this.map[e(t)]=r(n)},o.prototype.forEach=function(t,e){var r=this;for(var n in r.map)r.map.hasOwnProperty(n)&&t.call(e,r.map[n],n,r)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),n(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),n(t)},g.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];v.redirect=function(t,e){if(A.indexOf(e)===-1)throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=d,t.Response=v,t.fetch=function(t,e){return new Promise(function(r,n){var o=new d(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:h(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new v(e,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&g.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var lo=self.fetch.bind(self),po="application/json",yo="https://appgrid-api.cloud.accedo.tv",ho="same-origin",vo={accept:po},go=function(t){var e=t.ip;return e?{"X-FORWARDED-FOR":e}:{}},bo=function(t){var e=t.sessionKey;return e?{"X-SESSION":e}:{}},mo=function(){return{"Content-Type":po}},wo=function(t,e){void 0===e&&(e={});var r={appKey:t.appKey,uuid:t.deviceId};t.gid&&(r.gid=t.gid);var n=Object.assign({},e,r),o=fo.stringify(n);return o},jo=function(t,e){var r=t.split("?"),n=r[0],o=fo.parse(r[1]),i=wo(e,o);return""+yo+n+"?"+i},Ao=function(t){return Object.assign({},go(t),bo(t))},xo=function(t,e){var r=Object.assign({},vo,Ao(e)),n=jo(t,e);return e.log("Sending a GET request to: "+n+" with the following headers",r),lo(n,{credentials:ho,headers:r}).then(function(t){if(t.status>=400)throw e.log("GET failed with status",t.status),t;return t})},Oo=function(t,e){return e.log("Requesting",t),xo(t,e).then(function(t){return t.json()}).then(function(t){return e.log("GET response",t),t})},So=function(t,e){return xo(t,e).then(function(t){return t.body})},Eo=function(t,e,r){void 0===r&&(r={});var n=Object.assign({},vo,mo(),Ao(e)),o=jo(t,e);e.log("Sending a POST request to: "+o+". With the following headers and body: ",n,r);var i={headers:n,credentials:ho,method:"post",body:JSON.stringify(r)};return lo(o,i).then(function(t){var r=t.status,n=t.statusText;if(200!==r)throw new Error("AppGrid POST request returned a non-200 response. Status Code: "+r+". Status Text: "+n);var o={status:r,statusText:n};return e.log("POST response: ",{status:r,statusText:n}),o})},Bo=Mn().init(function(t){var e,r=t.stamp;r.fixed.methods.createSession=function(){var t=this;return e?e:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),e=Oo("/session",this.props.config).then(function(r){var n=r.sessionKey;return t.props.config.sessionKey=n,e=null,n}).catch(function(t){throw e=null,t}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(t){var e=this;return this.getSessionKey()?t().catch(function(r){if(r&&401===r.status)return e.createSession().then(t);throw r}):this.createSession().then(t)}}),To=Mn().methods({getEntries:function(t){return K.call(this,"/content/entries",t)},getEntryById:function(t,e){return K.call(this,"/content/entry/"+t,e)},getEntryByAlias:function(t,e){return K.call(this,"/content/entry/alias/"+t,e)}}).compose(Bo),_o=Mn().methods({getApplicationStatus:function(){var t=this;return this.withSessionHandling(function(){return Oo("/status",t.props.config)})}}).compose(Bo),Po=Mn().methods({getAllAssets:function(){var t=this;return this.withSessionHandling(function(){return Oo("/asset",t.props.config)})},getAssetById:function(t){
return So("/asset/"+t,this.props.config)}}).compose(Bo),Uo=Mn().methods({sendUsageStartEvent:function(){return L.call(this,"START")},sendUsageStopEvent:function(t){return L.call(this,"QUIT",t)}}).compose(Bo),Io="debug",Do="info",Fo="warn",Ro="error",Co=[Io,Do,Fo,Ro],Ho=function(t,e){return void 0===t&&(t="0"),void 0===e&&(e="0"),parseInt(""+t+e,10)},Ko=function(t,e){return t+(e?" | Metadata: "+JSON.stringify(e):"")},Lo=function(t,e){void 0===t&&(t={});var r=Ko(t.message,e),n=Ho(t.facilityCode,t.errorCode);return{code:n,message:r,dim1:t.dim1,dim2:t.dim2,dim3:t.dim3,dim4:t.dim4}},No=Mn().methods({getLogLevel:function(){return N.call(this,"/application/log/level").then(function(t){return t.logLevel})},sendLog:function(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];if(!Co.includes(t))return Promise.reject("Unsupported log level");var o=Lo(e,r);return k.call(this,t,o)},sendLogs:function(t){var e=t.map(function(t){var e=t.logType,r=t.timestamp;return Object.assign(Lo(t,t.metadata),{logType:e,timestamp:r})});return M.call(this,e)}}).compose(Bo),ko=Mn().methods({getAllEnabledPlugins:function(){var t=this;return this.withSessionHandling(function(){return Oo("/plugins",t.props.config)})}}).compose(Bo),Mo=Mn().methods({getProfileInfo:function(){var t=this;return this.withSessionHandling(function(){return Oo("/profile",t.props.config)})}}).compose(Bo),qo=Mn().methods({getAllMetadata:function(){return q.call(this,"/metadata")},getMetadataByKey:function(t){return q.call(this,"/metadata/"+t)},getMetadataByKeys:function(t){return q.call(this,"/metadata/"+t.join(","))}}).compose(Bo),Go="user",$o="group",zo=Mn().methods({getAllApplicationScopeDataByUser:function(t){return z.call(this,Go,t)},getAllApplicationGroupScopeDataByUser:function(t){return z.call(this,$o,t)},getApplicationScopeDataByUserAndKey:function(t,e){return V.call(this,Go,t,e)},getApplicationGroupScopeDataByUserAndKey:function(t,e){return V.call(this,$o,t,e)},setApplicationScopeUserData:function(t,e){return X.call(this,Go,t,e)},setApplicationGroupScopeUserData:function(t,e){return X.call(this,$o,t,e)},setApplicationScopeUserDataByKey:function(t,e,r){return J.call(this,Go,t,e,r)},setApplicationGroupScopeUserDataByKey:function(t,e,r){return J.call(this,$o,t,e,r)}}).compose(Bo),Vo=Mn().compose(Bo,To,_o,Po,Uo,No,ko,Mo,qo,zo),Xo=function(){},Jo=function(t){void 0===t&&(t={});var e=t.appKey,r=t.deviceId,n=t.sessionKey;return e&&!r&&!n||e&&r&&!n||e&&r&&n},Wo=function(t){var e=t.gid,r=t.appKey,n=t.ip,o=t.log;void 0===o&&(o=Xo);var i=t.onDeviceIdGenerated;void 0===i&&(i=Xo);var a=t.onSessionKeyChanged;void 0===a&&(a=Xo);var s=t.deviceId,u=t.sessionKey;if(!Jo(t))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");s||(s=Wo.generateUuid(),i(s));var c={deviceId:s,gid:e,ip:n,appKey:r,log:o,onSessionKeyChanged:a};return Object.defineProperty(c,"sessionKey",{set:function(t){u=t,a(t)},get:function(){return u}}),Vo({props:{config:c}})};return Wo.generateUuid=function(){return mt.v4()},Wo});
