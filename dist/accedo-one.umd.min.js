!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.accedoOne=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){var n=t||0,r=ge;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function n(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var i=void 0!==e.clockseq?e.clockseq:Ae,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:we+1,u=a-Oe+(c-we)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||a>Oe)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Oe=a,we=c,Ae=i,a+=122192928e5;var s=(1e4*(268435455&a)+c)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var l=e.node||je,p=0;p<6;++p)o[r+p]=l[p];return t?t:be(o)}function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||ve)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||be(o)}function o(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return De(e)?e:Object(e)}function c(e){return function(t,n,r){for(var o=Ce(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function u(e){return De(e)&&Ne.call(e)==Fe}function s(e){return!!e&&"object"==typeof e}function f(e){return null!=e&&(ke(e)?Ge.test($e.call(e)):_e(e)&&Be.test(e))}function l(e,t){var n=null==e?void 0:e[t];return Ve(n)?n:void 0}function p(e){return function(t){return null==t?void 0:t[e]}}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Je}function y(e){return null!=e&&Ye(Xe(e))}function v(e){return _e(e)&&Ze(e)&&tt.call(e,"callee")&&!nt.call(e,"callee")}function g(e,t){return e="number"==typeof e||ft.test(e)?+e:-1,t=null==t?lt:t,e>-1&&e%1==0&&e<t}function h(e){if(null==e)return[];De(e)||(e=Object(e));var t=e.length;t=t&&Ye(t)&&(st(e)||rt(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&pt(c,t)||"constructor"==c&&(o||!yt.call(e,c))||i.push(c);return i}function b(e){for(var t=vt(e),n=t.length,r=n&&e.length,o=!!r&&Ye(r)&&(st(e)||rt(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&pt(c,r)||ht.call(e,c))&&a.push(c)}return a}function m(e,t){return Re(e,t,At)}function j(e,t){return function(n,r){var o=n?Xe(n):0;if(!Ye(o))return e(n,r);for(var i=t?o:-1,a=Ce(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function A(e){return e}function O(e,t,n){if("function"!=typeof e)return Pt;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function w(e,t){return function(n,r,o){return"function"==typeof r&&void 0===o&&st(n)?e(n,r):t(n,Lt(r,o,3))}}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return Dt(e)?e:Object(e)}function P(e){return function(t,n,r){for(var o=Ct(t),i=r(t),a=i.length,c=e?a:-1;e?c--:++c<a;){var u=i[c];if(n(o[u],u,o)===!1)break}return t}}function L(e){return Dt(e)&&Nt.call(e)==Ft}function E(e){return!!e&&"object"==typeof e}function I(e){return null!=e&&(kt(e)?Gt.test($t.call(e)):_t(e)&&Bt.test(e))}function K(e,t){var n=null==e?void 0:e[t];return Vt(n)?n:void 0}function D(e){return function(t){return null==t?void 0:t[e]}}function C(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Jt}function T(e){return null!=e&&Yt(Xt(e))}function U(e){return _t(e)&&Zt(e)&&tn.call(e,"callee")&&!nn.call(e,"callee")}function R(e,t){return e="number"==typeof e||ln.test(e)?+e:-1,t=null==t?pn:t,e>-1&&e%1==0&&e<t}function F(e){if(null==e)return[];Dt(e)||(e=Object(e));var t=e.length;t=t&&Yt(t)&&(fn(e)||rn(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=t>0;++r<t;)i[r]=r+"";for(var c in e)a&&dn(c,t)||"constructor"==c&&(o||!vn.call(e,c))||i.push(c);return i}function H(e){for(var t=gn(e),n=t.length,r=n&&e.length,o=!!r&&Yt(r)&&(fn(e)||rn(e)),i=-1,a=[];++i<n;){var c=t[i];(o&&dn(c,r)||bn.call(e,c))&&a.push(c)}return a}function N(e,t){return Rt(e,t,On)}function k(e){return e}function _(e,t,n){if("function"!=typeof e)return xn;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function B(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=Sn(n,r,3)),e(t,n)}}function M(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=Sn(n,r,3)),e(t,n,gn)}}function $(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function q(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function G(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function V(e,t){return null==t?e:Un(t,On(t),e)}function z(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Hn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Q(e){var t=new kn(e.byteLength),n=new _n(t);return n.set(new _n(e)),t}function W(e,t,n){var r=e.constructor;switch(t){case zn:return Bn(e);case Mn:case $n:return new r(+e);case Qn:case Wn:case Xn:case Jn:case Yn:case Zn:case er:case tr:case nr:var o=e.buffer;return new r(n?Bn(o):o,e.byteOffset,e.length);case qn:case Vn:return new r(e);case Gn:var i=new r(e.source,rr.exec(e));i.lastIndex=e.lastIndex}return i}function X(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function J(e,t,n,r,o,i,a){var c;if(n&&(c=o?n(e,r,o):n(e)),void 0!==c)return c;if(!Dt(e))return e;var u=fn(e);if(u){if(c=Nn(e),!t)return Cn(e,c)}else{var s=Dr.call(e),f=s==lr;if(s!=yr&&s!=ar&&(!f||o))return Ir[s]?or(e,s,t):o?e:{};if(c=ir(f?{}:e),!t)return Rn(c,e)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==e)return a[l];return i.push(e),a.push(c),(u?Tn:wn)(e,function(r,o){c[o]=J(r,t,n,o,e,i,a)}),c}function Y(e,t,n){return"function"==typeof t?Cr(e,!0,Sn(t,n,3)):Cr(e,!0)}function Z(e){return void 0===e}function ee(e,t){void 0===t&&(t={});var n=t.id,r=t.typeId,o=t.alias,i=t.typeAlias,a=t.preview,c=t.at,u=t.offset,s=t.size,f=t.locale,l={};n&&Array.isArray(n)&&(l.id=n.join(",")),o&&Array.isArray(o)&&(l.alias=o.join(",")),r&&Array.isArray(r)&&(l.typeId=r.join(",")),a&&(l.preview=!0),"string"==typeof c?l.at=c:c&&c.toISOString&&(l.at=c.toISOString());var p=Zr.stringify(Object.assign({},l,{typeAlias:i,offset:u,size:s,locale:f}));return e+"?"+p}function te(e,t){var n=this,r=ee(e,t);return this.withSessionHandling(function(){return co(r,n.props.config)})}function ne(e,t){var n=this,r={eventType:e};return void 0!==t&&(r.retentionTime=t),this.withSessionHandling(function(){return ho("/event/log",n.props.config,r)})}function re(e){var t=this;return this.withSessionHandling(function(){return Po(e,t.props.config)})}function oe(e){var t=this;return this.withSessionHandling(function(){return Io(e,t.props.config)})}function ie(e,t){var n=this;return this.withSessionHandling(function(){return Ko(e,n.props.config,t)})}function ae(e,t){return oe.call(this,"/"+e+"/"+t)}function ce(e,t,n){return oe.call(this,"/"+e+"/"+t+"/"+n+"?json=true")}function ue(e,t,n){return ie.call(this,"/"+e+"/"+t,n)}function se(e,t,n,r){return ie.call(this,"/"+e+"/"+t+"/"+n,r)}var fe,le="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=le.crypto||le.msCrypto;if(pe&&pe.getRandomValues){var de=new Uint8Array(16);fe=function(){return pe.getRandomValues(de),de}}if(!fe){var ye=new Array(16);fe=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),ye[t]=e>>>((3&t)<<3)&255;return ye}}for(var ve=fe,ge=[],he=0;he<256;++he)ge[he]=(he+256).toString(16).substr(1);var be=t,me=ve(),je=[1|me[0],me[1],me[2],me[3],me[4],me[5]],Ae=16383&(me[6]<<8|me[7]),Oe=0,we=0,xe=n,Se=r,Pe=Se;Pe.v1=xe,Pe.v4=Se;var Le=Pe,Ee=e(function(e){var t=function(){},n=function(e){void 0===e&&(e={});var t=e.appKey,n=e.deviceId,r=e.sessionKey;return t&&!n&&!r||t&&n},r=function(e){return function(r){var o=r.gid,i=r.appKey,a=r.ip,c=r.target,u=r.log;void 0===u&&(u=t);var s=r.onDeviceIdGenerated;void 0===s&&(s=t);var f=r.onSessionKeyChanged;void 0===f&&(f=t);var l=r.deviceId,p=r.sessionKey;if(l||(p=null),!n({appKey:i,deviceId:l,sessionKey:p}))throw new Error("You must provide an appKey | an appKey and a deviceId | an appKey, a deviceId and a sessionKey");l||(l=Le.v4(),s(l));var d={deviceId:l,gid:o,ip:a,appKey:i,target:c,log:u,onSessionKeyChanged:f};return Object.defineProperty(d,"sessionKey",{set:function(e){p=e,f(e)},get:function(){return p}}),e({props:{config:d}})}};e.exports=r}),Ie=e(function(e){var t=!1,n=!1;try{t="undefined"!=typeof localStorage,n="undefined"!=typeof sessionStorage}catch(e){}var r=t||n,o="ag_d",i="ag_s",a=function(){try{var e=localStorage[o],t=n?sessionStorage[i]:void 0;return{deviceId:e,sessionKey:t}}catch(e){return{}}},c=function(e){if(t)try{localStorage[o]=e}catch(e){}},u=function(e){if(n)try{sessionStorage[i]=e}catch(e){}},s=function(e){return function(t){var n=Ee(e);if(!r)return n(t);var o=t.browserInfoProvider;void 0===o&&(o=a);var i=t.onDeviceIdGenerated;void 0===i&&(i=c);var s=t.onSessionKeyChanged;void 0===s&&(s=u);var f=t.deviceId,l=t.sessionKey;if((!f||!l)&&o){var p=o();f=f||p.deviceId,l=l||p.sessionKey}return n(Object.assign({},t,{deviceId:f,sessionKey:l,onDeviceIdGenerated:i,onSessionKeyChanged:s}))}};e.exports=s}),Ke=o,De=i,Ce=a,Te=c,Ue=Te(),Re=Ue,Fe="[object Function]",He=Object.prototype,Ne=He.toString,ke=u,_e=s,Be=/^\[object .+?Constructor\]$/,Me=Object.prototype,$e=Function.prototype.toString,qe=Me.hasOwnProperty,Ge=RegExp("^"+$e.call(qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=f,ze=l,Qe=p,We=Qe("length"),Xe=We,Je=9007199254740991,Ye=d,Ze=y,et=Object.prototype,tt=et.hasOwnProperty,nt=et.propertyIsEnumerable,rt=v,ot="[object Array]",it=Object.prototype,at=it.toString,ct=ze(Array,"isArray"),ut=ct||function(e){return _e(e)&&Ye(e.length)&&at.call(e)==ot},st=ut,ft=/^\d+$/,lt=9007199254740991,pt=g,dt=Object.prototype,yt=dt.hasOwnProperty,vt=h,gt=Object.prototype,ht=gt.hasOwnProperty,bt=b,mt=ze(Object,"keys"),jt=mt?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Ze(e)?bt(e):De(e)?mt(e):[]}:bt,At=jt,Ot=m,wt=j,xt=wt(Ot),St=xt,Pt=A,Lt=O,Et=w,It=Et(Ke,St),Kt=It,Dt=x,Ct=S,Tt=P,Ut=Tt(),Rt=Ut,Ft="[object Function]",Ht=Object.prototype,Nt=Ht.toString,kt=L,_t=E,Bt=/^\[object .+?Constructor\]$/,Mt=Object.prototype,$t=Function.prototype.toString,qt=Mt.hasOwnProperty,Gt=RegExp("^"+$t.call(qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=I,zt=K,Qt=D,Wt=Qt("length"),Xt=Wt,Jt=9007199254740991,Yt=C,Zt=T,en=Object.prototype,tn=en.hasOwnProperty,nn=en.propertyIsEnumerable,rn=U,on="[object Array]",an=Object.prototype,cn=an.toString,un=zt(Array,"isArray"),sn=un||function(e){return _t(e)&&Yt(e.length)&&cn.call(e)==on},fn=sn,ln=/^\d+$/,pn=9007199254740991,dn=R,yn=Object.prototype,vn=yn.hasOwnProperty,gn=F,hn=Object.prototype,bn=hn.hasOwnProperty,mn=H,jn=zt(Object,"keys"),An=jn?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Zt(e)?mn(e):Dt(e)?jn(e):[]}:mn,On=An,wn=N,xn=k,Sn=_,Pn=B,Ln=Pn(wn),En=Ln,In=M,Kn=In(Rt),Dn=Kn,Cn=$,Tn=q,Un=G,Rn=V,Fn=Object.prototype,Hn=Fn.hasOwnProperty,Nn=z,kn=le.ArrayBuffer,_n=le.Uint8Array,Bn=Q,Mn="[object Boolean]",$n="[object Date]",qn="[object Number]",Gn="[object RegExp]",Vn="[object String]",zn="[object ArrayBuffer]",Qn="[object Float32Array]",Wn="[object Float64Array]",Xn="[object Int8Array]",Jn="[object Int16Array]",Yn="[object Int32Array]",Zn="[object Uint8Array]",er="[object Uint8ClampedArray]",tr="[object Uint16Array]",nr="[object Uint32Array]",rr=/\w*$/,or=W,ir=X,ar="[object Arguments]",cr="[object Array]",ur="[object Boolean]",sr="[object Date]",fr="[object Error]",lr="[object Function]",pr="[object Map]",dr="[object Number]",yr="[object Object]",vr="[object RegExp]",gr="[object Set]",hr="[object String]",br="[object WeakMap]",mr="[object ArrayBuffer]",jr="[object Float32Array]",Ar="[object Float64Array]",Or="[object Int8Array]",wr="[object Int16Array]",xr="[object Int32Array]",Sr="[object Uint8Array]",Pr="[object Uint8ClampedArray]",Lr="[object Uint16Array]",Er="[object Uint32Array]",Ir={};Ir[ar]=Ir[cr]=Ir[mr]=Ir[ur]=Ir[sr]=Ir[jr]=Ir[Ar]=Ir[Or]=Ir[wr]=Ir[xr]=Ir[dr]=Ir[yr]=Ir[vr]=Ir[hr]=Ir[Sr]=Ir[Pr]=Ir[Lr]=Ir[Er]=!0,Ir[fr]=Ir[lr]=Ir[pr]=Ir[gr]=Ir[br]=!1;var Kr=Object.prototype,Dr=Kr.toString,Cr=J,Tr=Y,Ur=Z,Rr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.deep&&!e._innerMixer&&(e._innerMixer=!0,e._innerMixer=r(e)),function(t){function n(n,r){var o=t[r];if(!e.filter||e.filter(n,o,r)){var i=e.deep?e._innerMixer(o,n):n;t[r]=e.transform?e.transform(i,o,r):i}}for(var r=arguments,s=arguments.length,f=Array(s>1?s-1:0),l=1;l<s;l++)f[l-1]=r[l];if((0,u.default)(t)||!e.noOverwrite&&!(0,c.default)(t))return f.length>1?e._innerMixer.apply(e,[{}].concat(f)):(0,a.default)(f[0]);if(e.noOverwrite&&(!(0,c.default)(t)||!(0,c.default)(f[0])))return t;var p=e.chain?i.default:o.default;return f.forEach(function(e){p(e,n)}),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(En),i=n(Dn),a=n(Tr),c=n(Dt),u=n(Ur);e.exports=t.default}),Fr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(Rr),o=function(e){return"function"==typeof e},i=function(e){return!o(e)},a=(0,r.default)(),c=(0,r.default)({filter:o}),u=(0,r.default)({filter:o,chain:!0}),s=(0,r.default)({deep:!0}),f=(0,r.default)({deep:!0,noOverwrite:!0}),l=(0,r.default)({filter:i,deep:!0,chain:!0});t.default=r.default,t.mixin=a,t.mixinFunctions=c,t.mixinChainFunctions=u,t.merge=s,t.mergeUnique=f,t.mergeChainNonFunctions=l}),Hr=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e&&(0,h.default)(e.then)}function o(){for(var e=arguments,t=[],n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,h.default)(r[0])?(0,g.default)(r,function(e){(0,h.default)(e)&&t.push(e)}):(0,b.default)(r[0])&&(0,g.default)(r,function(e){(0,g.default)(e,function(e){(0,h.default)(e)&&t.push(e)})}),t}function i(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.mixinFunctions.apply(void 0,[e.methods].concat(r))}function a(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return e.refs=e.state=Fr.mixin.apply(void 0,[e.refs].concat(r)),e.refs}function c(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=t[i];var a=o.apply(void 0,r);return e.init=e.enclose=e.init.concat(a),e.init}function u(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.merge.apply(void 0,[e.props].concat(r))}function s(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return Fr.mixin.apply(void 0,[e.static].concat(r))}function f(e,t){for(var n=arguments,r=j(e),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=n[a];return t.apply(void 0,[r.fixed].concat(i)),r}function l(){for(var e=arguments,t=j(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=e[o];return(0,g.default)(r,function(e){e&&e.fixed&&(i(t.fixed,e.fixed.methods),a(t.fixed,e.fixed.refs||e.fixed.state),c(t.fixed,e.fixed.init||e.fixed.enclose),u(t.fixed,e.fixed.props),s(t.fixed,e.fixed.static))}),(0,Fr.mixin)(t,t.fixed.static)}function p(e){return(0,h.default)(e)&&(0,h.default)(e.methods)&&((0,h.default)(e.refs)||(0,h.default)(e.state))&&((0,h.default)(e.init)||(0,h.default)(e.enclose))&&(0,h.default)(e.props)&&(0,h.default)(e.static)&&(0,b.default)(e.fixed)}function d(e){var t=j();return t.fixed.refs=t.fixed.state=(0,Fr.mergeChainNonFunctions)(t.fixed.refs,e.prototype),(0,Fr.mixin)(t,(0,Fr.mixin)(t.fixed.static,e)),(0,Fr.mixinChainFunctions)(t.fixed.methods,e.prototype),c(t.fixed,function(t){var n=t.instance,r=t.args;return e.apply(n,r)}),t}function y(e){for(var t=arguments,n=j(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=t[i];return e.apply(void 0,[n.fixed].concat(o)),n}function v(){return console.log("stampit.mixin(), .mixIn(), .extend(), and .assign() are deprecated.","Use Object.assign or _.assign instead"),Fr.mixin.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(Kt),h=n(ke),b=n(De),m=Object.create,j=function(e){var t={methods:{},refs:{},init:[],props:{},static:{}};t.state=t.refs,t.enclose=t.init,e&&(i(t,e.methods),a(t,e.refs),c(t,e.init),u(t,e.props),s(t,e.static));var n=function(e){for(var o=arguments,i=arguments.length,a=Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=o[c];var u=(0,Fr.mixin)(m(t.methods),t.refs,e);(0,Fr.mergeUnique)(u,t.props);var s=null;return t.init.length>0&&(0,g.default)(t.init,function(e){if((0,h.default)(e))if(s)s=s.then(function(t){u=t||u;var o=e.call(u,{args:a,instance:u,stamp:n});return o?r(o)?o:u=o:u});else{var t=e.call(u,{args:a,instance:u,stamp:n});if(!t)return;if(!r(t))return void(u=t);s=t}}),s?s.then(function(e){return e||u}):u},o=f.bind(null,t,a),p=f.bind(null,t,c);return(0,Fr.mixin)(n,{create:n,fixed:t,methods:f.bind(null,t,i),refs:o,state:o,init:p,enclose:p,props:f.bind(null,t,u),static:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];var i=f.apply(void 0,[n.fixed,s].concat(r));return(0,Fr.mixin)(i,i.fixed.static)},compose:function(){for(var e=arguments,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=e[o];return l.apply(void 0,[n].concat(r))}},t.static)};t.default=(0,Fr.mixin)(j,{methods:y.bind(null,i),refs:y.bind(null,a),init:y.bind(null,c),props:y.bind(null,u),static:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];var o=y.apply(void 0,[s].concat(n));return(0,Fr.mixin)(o,o.fixed.static)},compose:l,mixin:v,extend:v,mixIn:v,assign:v,isStamp:p,convertConstructor:d}),e.exports=t.default}),Nr=e(function(e,t){var n=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)"undefined"!=typeof t[o]&&r.push(t[o]);n.obj[n.prop]=r}}return t};t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},t.merge=function(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=t.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t.merge(e[i],r,o):e.push(r):e[i]=r}),e):Object.keys(r).reduce(function(e,i){var a=r[i];return n.call(e,i)?e[i]=t.merge(e[i],a,o):e[i]=a,e},i)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],c=Object.keys(a),u=0;u<c.length;++u){var s=c[u],f=a[s];"object"==typeof f&&null!==f&&n.indexOf(f)===-1&&(t.push({obj:a,prop:s}),n.push(f))}return o(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),kr=String.prototype.replace,_r=/%20/g,Br={default:"RFC3986",formatters:{RFC1738:function(e){return kr.call(e,_r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Mr={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},$r=Date.prototype.toISOString,qr={delimiter:"&",encode:!0,encoder:Nr.encode,encodeValuesOnly:!1,serializeDate:function(e){return $r.call(e)},skipNulls:!1,strictNullHandling:!1},Gr=function e(t,n,r,o,i,a,c,u,s,f,l,p){var d=t;if("function"==typeof c)d=c(n,d);else if(d instanceof Date)d=f(d);else if(null===d){if(o)return a&&!p?a(n,qr.encoder):n;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||Nr.isBuffer(d)){if(a){var y=p?n:a(n,qr.encoder);return[l(y)+"="+l(a(d,qr.encoder))]}return[l(n)+"="+l(String(d))]}var v=[];if("undefined"==typeof d)return v;var g;if(Array.isArray(c))g=c;else{var h=Object.keys(d);g=u?h.sort(u):h}for(var b=0;b<g.length;++b){var m=g[b];i&&null===d[m]||(v=Array.isArray(d)?v.concat(e(d[m],r(n,m),r,o,i,a,c,u,s,f,l,p)):v.concat(e(d[m],n+(s?"."+m:"["+m+"]"),r,o,i,a,c,u,s,f,l,p)))}return v},Vr=function(e,t){var n=e,r=t?Nr.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o="undefined"==typeof r.delimiter?qr.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:qr.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:qr.skipNulls,c="boolean"==typeof r.encode?r.encode:qr.encode,u="function"==typeof r.encoder?r.encoder:qr.encoder,s="function"==typeof r.sort?r.sort:null,f="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:qr.serializeDate,p="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:qr.encodeValuesOnly;if("undefined"==typeof r.format)r.format=Br.default;else if(!Object.prototype.hasOwnProperty.call(Br.formatters,r.format))throw new TypeError("Unknown format option provided.");var d,y,v=Br.formatters[r.format];"function"==typeof r.filter?(y=r.filter,n=y("",n)):Array.isArray(r.filter)&&(y=r.filter,d=y);var g=[];if("object"!=typeof n||null===n)return"";var h;h=r.arrayFormat in Mr?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var b=Mr[h];d||(d=Object.keys(n)),s&&d.sort(s);for(var m=0;m<d.length;++m){var j=d[m];a&&null===n[j]||(g=g.concat(Gr(n[j],j,b,i,a,c?u:null,y,s,f,l,v,p)))}var A=g.join(o),O=r.addQueryPrefix===!0?"?":"";return A.length>0?O+A:""},zr=Object.prototype.hasOwnProperty,Qr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Nr.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Wr=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=0;a<i.length;++a){var c,u,s=i[a],f=s.indexOf("]="),l=f===-1?s.indexOf("="):f+1;l===-1?(c=t.decoder(s,Qr.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(s.slice(0,l),Qr.decoder),u=t.decoder(s.slice(l+1),Qr.decoder)),zr.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}return n},Xr=function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=[],i=i.concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(i=[],i[u]=r):i[c]=r}r=i}return r},Jr=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=o.exec(r),c=a?r.slice(0,a.index):r,u=[];if(c){if(!n.plainObjects&&zr.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var s=0;null!==(a=i.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&zr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),Xr(u,t,n)}},Yr=function(e,t){var n=t?Nr.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=n.ignoreQueryPrefix===!0,n.delimiter="string"==typeof n.delimiter||Nr.isRegExp(n.delimiter)?n.delimiter:Qr.delimiter,n.depth="number"==typeof n.depth?n.depth:Qr.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:Qr.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:Qr.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:Qr.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:Qr.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:Qr.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:Qr.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Qr.strictNullHandling,""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?Wr(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var c=i[a],u=Jr(c,r[c],n);o=Nr.merge(o,u,n)}return Nr.compact(o)},Zr={formats:Br,parse:Yr,stringify:Vr},eo="function"==typeof fetch?fetch:function(e,t){return t=t||{},new Promise(function(n,r){function o(){var e,t=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){t.push(i=i.toLowerCase()),n.push([i,a]),e=r[i],r[i]=e?e+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}var i=new XMLHttpRequest;i.open(t.method||"get",e);for(var a in t.headers)i.setRequestHeader(a,t.headers[a]);i.withCredentials="include"==t.credentials,i.onload=function(){n(o())},i.onerror=r,i.send(t.body)})},to=Object.freeze({default:eo}),no=to&&eo||to,ro=window.fetch=no,oo=e(function(e){var t="application/json",n="https://api.one.accedo.tv",r="same-origin",o={accept:t},i=function(e){var t=e.ip;return t?{"X-FORWARDED-FOR":t}:{}},a=function(e){var t=e.sessionKey;return t?{"X-SESSION":t}:{}},c=function(){return{"Content-Type":t}},u=function(e,t){void 0===t&&(t={});var n=e.sessionKey?{}:{appKey:e.appKey,uuid:e.deviceId};e.gid&&(n.gid=e.gid);var r=Object.assign({},t,n),o=Zr.stringify(r);return o},s=function(e,t){var r=t.target;void 0===r&&(r=n);var o=e.split("?"),i=o[0],a=Zr.parse(o[1]),c=u(t,a);return""+r+i+"?"+c},f=function(e){return Object.assign({},i(e),a(e))},l=function(e,t){var n=Object.assign({},o,f(t)),i=s(e,t);return t.log("Sending a GET request to: "+i+" with the following headers",n),ro(i,{credentials:r,headers:n}).then(function(e){if(e.status>=400)throw t.log("GET failed with status",e.status),e;return e})};e.exports.grab=function(e,t){return t.log("Requesting",e),l(e,t).then(function(e){return e.json()}).then(function(e){return t.log("GET response",e),e})},e.exports.post=function(e,t,n){void 0===n&&(n={});var i=Object.assign({},o,c(),f(t)),a=s(e,t);t.log("Sending a POST request to: "+a+". With the following headers and body: ",i,n);var u={headers:i,credentials:r,method:"post",body:JSON.stringify(n)};return ro(a,u).then(function(e){var n=e.status,r=e.statusText;if(200!==n)throw new Error("Accedo One POST request returned a non-200 response. Status Code: "+n+". Status Text: "+r);var o={status:n,statusText:r};return t.log("POST response: ",{status:n,statusText:r}),o})}}),io=oo.grab,ao=Hr().init(function(e){var t,n=e.instance;n.createSession=function(){var e=this;return t?t:(this.props.config.sessionKey&&(this.props.config.sessionKey=null),t=io("/session",this.props.config).then(function(n){var r=n.sessionKey;return e.props.config.sessionKey=r,t=null,r}).catch(function(e){throw t=null,e}))}}).methods({getSessionKey:function(){return this.props.config.sessionKey},withSessionHandling:function(e){var t=this;return this.getSessionKey()?e().catch(function(n){if(n&&401===n.status)return t.createSession().then(e);throw n}):this.createSession().then(e)}}),co=oo.grab,uo=Hr().methods({getEntries:function(e){return te.call(this,"/content/entries",e)},getEntryById:function(e,t){return te.call(this,"/content/entry/"+e,t)},getEntryByAlias:function(e,t){return te.call(this,"/content/entry/alias/"+e,t)}}).compose(ao),so=uo,fo=oo.grab,lo=Hr().methods({getApplicationStatus:function(){var e=this;return this.withSessionHandling(function(){return fo("/status",e.props.config)})}}).compose(ao),po=lo,yo=oo.grab,vo=Hr().methods({getAllAssets:function(){var e=this;return this.withSessionHandling(function(){return yo("/asset",e.props.config)})}}).compose(ao),go=vo,ho=oo.post,bo=Hr().methods({sendUsageStartEvent:function(){return ne.call(this,"START")},sendUsageStopEvent:function(e){return ne.call(this,"QUIT",e)}}).compose(ao),mo=bo,jo=oo.grab,Ao=Hr().methods({getAllEnabledPlugins:function(){var e=this;return this.withSessionHandling(function(){return jo("/plugins",e.props.config)})}}).compose(ao),Oo=Ao,wo=oo.grab,xo=Hr().methods({getProfileInfo:function(){var e=this;return this.withSessionHandling(function(){return wo("/profile",e.props.config)})}}).compose(ao),So=xo,Po=oo.grab,Lo=Hr().methods({getAllMetadata:function(){return re.call(this,"/metadata")},getMetadataByKey:function(e){return re.call(this,"/metadata/"+e)},getMetadataByKeys:function(e){return re.call(this,"/metadata/"+e.join(","))}}).compose(ao),Eo=Lo,Io=oo.grab,Ko=oo.post,Do="user",Co="group",To=Hr().methods({getAllApplicationScopeDataByUser:function(e){return ae.call(this,Do,e)},getAllApplicationGroupScopeDataByUser:function(e){return ae.call(this,Co,e)},getApplicationScopeDataByUserAndKey:function(e,t){return ce.call(this,Do,e,t)},getApplicationGroupScopeDataByUserAndKey:function(e,t){return ce.call(this,Co,e,t)},setApplicationScopeUserData:function(e,t){return ue.call(this,Do,e,t)},setApplicationGroupScopeUserData:function(e,t){return ue.call(this,Co,e,t)},setApplicationScopeUserDataByKey:function(e,t,n){return se.call(this,Do,e,t,n)},setApplicationGroupScopeUserDataByKey:function(e,t,n){return se.call(this,Co,e,t,n)}}).compose(ao),Uo=To,Ro=oo.grab,Fo=Hr().methods({getAvailableLocales:function(){var e=this;return this.withSessionHandling(function(){return Ro("/locales",e.props.config)})}}).compose(ao),Ho=Fo,No=e(function(e){function t(e){var t=this;return this.withSessionHandling(function(){return r(e,t.props.config)})}function n(e){var t=this;return this.withSessionHandling(function(){return o("/application/logs",t.props.config,e)})}var r=oo.grab,o=oo.post,i="debug",a="info",c="warn",u="error",s=[i,a,c,u],f=function(e,t){return t?JSON.stringify([e,t]):e},l=function(e,t){void 0===e&&(e={});var n=f(e.message,t);return{code:e.errorCode||0,
message:n,dim1:e.dim1,dim2:e.dim2,dim3:e.dim3,dim4:e.dim4}},p=18e4,d=Hr().init(function(e){var n,r=e.instance,o={};r.getLogLevel=function(){if(n)return n;var e=o.logLevel,r=o.timestamp;return void 0===r&&(r=0),Date.now()-r<p?Promise.resolve(e):n=t.call(this,"/application/log/level").then(function(e){var t=e.logLevel;return n=null,o={logLevel:t,timestamp:Date.now()},t}).catch(function(e){throw n=null,e})}}).methods({sendLogs:function(e){var t=e.map(function(e){var t=e.logType,n=e.timestamp;return Object.assign(l(e,e.metadata),{logType:t,timestamp:n})});return n.call(this,t)}}).compose(ao);e.exports=d,d.getLogEvent=l,d.ALLOWED_LEVELS=s}),ko=Hr().compose(ao,so,po,go,mo,Oo,So,Eo,Uo,Ho,No),_o=ko,Bo=oo.post,Mo=No.ALLOWED_LEVELS,$o=No.getLogEvent,qo="off",Go=Mo.concat([qo]),Vo=Hr().init(function(){}).methods({sendLog:function(e,t){for(var n=this,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];if(!Mo.includes(e))return Promise.reject("Unsupported log level");var i=r.length?1===r.length?r[0]:r:void 0;return this.getLogLevel().then(function(r){if(Go.indexOf(r)>Go.indexOf(e))return Promise.resolve({status:200,statusText:"Request avoided",requestAvoided:!0});var o=$o(t,i);return Bo("/application/log/"+e,n.props.config,o)})}}).compose(No,ao),zo=Vo,Qo=_o.compose(zo),Wo=Ie(Qo),Xo=Wo;return Xo});
